(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();const dn=!1;var fn=Array.isArray,Ts=Array.prototype.indexOf,Ci=Array.from,pn=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,gn=Object.getOwnPropertyDescriptors,ks=Object.prototype,Os=Array.prototype,Ei=Object.getPrototypeOf,Hi=Object.isExtensible;const ft=()=>{};function As(i){return i()}function pi(i){for(var e=0;e<i.length;e++)i[e]()}function vn(){var i,e,t=new Promise((s,r)=>{i=s,e=r});return{promise:t,resolve:i,reject:e}}const re=2,Ti=4,ni=8,Ue=16,ze=32,ot=64,si=128,ne=1024,de=2048,Fe=4096,ve=8192,Ge=16384,ki=32768,mt=65536,Vi=1<<17,mn=1<<18,_t=1<<19,yn=1<<20,_e=256,Zt=512,Qt=32768,gi=1<<21,Oi=1<<22,Je=1<<23,At=Symbol("$state"),Is=Symbol(""),ht=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ls(i){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ps(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function qs(i){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Rs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ns(i){throw new Error("https://svelte.dev/e/effect_orphan")}function Ms(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function js(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ds(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Us(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function zs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Fs=1,Bs=2,Ys=16,Ws=1,Xs=2,ie=Symbol(),Hs="http://www.w3.org/1999/xhtml";function Vs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Ks=!1;function bn(i){return i===this.v}function wn(i,e){return i!=i?e==e:i!==e||i!==null&&typeof i=="object"||typeof i=="function"}function _n(i){return!wn(i,this.v)}let Mt=!1,$s=!1;function Gs(){Mt=!0}let $=null;function yt(i){$=i}function St(i,e=!1,t){$={p:$,i:!1,c:null,e:null,s:i,x:null,l:Mt&&!e?{s:null,u:null,$:[]}:null}}function xt(i){var e=$,t=e.e;if(t!==null){e.e=null;for(var s of t)jn(s)}return e.i=!0,$=e.p,{}}function jt(){return!Mt||$!==null&&$.l===null}let et=[];function Sn(){var i=et;et=[],pi(i)}function ri(i){if(et.length===0&&!It){var e=et;queueMicrotask(()=>{e===et&&Sn()})}et.push(i)}function Js(){for(;et.length>0;)Sn()}function xn(i){var e=D;if(e===null)return N.f|=Je,i;if((e.f&ki)===0){if((e.f&si)===0)throw i;e.b.error(i)}else bt(i,e)}function bt(i,e){for(;e!==null;){if((e.f&si)!==0)try{e.b.error(i);return}catch(t){i=t}e=e.parent}throw i}const Kt=new Set;let W=null,Gt=null,Ce=null,Ae=[],oi=null,vi=!1,It=!1;class Ie{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#i=0;#n=0;#l=null;#o=[];#a=[];skipped_effects=new Set;is_fork=!1;process(e){Ae=[],Gt=null,this.apply();var t={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of e)this.#s(s,t);this.is_fork||this.#c(),this.#n>0||this.is_fork?(this.#r(t.effects),this.#r(t.render_effects),this.#r(t.block_effects)):(Gt=this,W=null,Ki(t.render_effects),Ki(t.effects),Gt=null,this.#l?.resolve()),Ce=null}#s(e,t){e.f^=ne;for(var s=e.first;s!==null;){var r=s.f,a=(r&(ze|ot))!==0,l=a&&(r&ne)!==0,u=l||(r&ve)!==0||this.skipped_effects.has(s);if((s.f&si)!==0&&s.b?.is_pending()&&(t={parent:t,effect:s,effects:[],render_effects:[],block_effects:[]}),!u&&s.fn!==null){a?s.f^=ne:(r&Ti)!==0?t.effects.push(s):Ut(s)&&((s.f&Ue)!==0&&t.block_effects.push(s),Nt(s));var d=s.first;if(d!==null){s=d;continue}}var f=s.parent;for(s=s.next;s===null&&f!==null;)f===t.effect&&(this.#r(t.effects),this.#r(t.render_effects),this.#r(t.block_effects),t=t.parent),s=f.next,f=f.parent}}#r(e){for(const t of e)((t.f&de)!==0?this.#o:this.#a).push(t),se(t,ne)}capture(e,t){this.previous.has(e)||this.previous.set(e,t),(e.f&Je)===0&&(this.current.set(e,e.v),Ce?.set(e,e.v))}activate(){W=this,this.apply()}deactivate(){W=null,Ce=null}flush(){if(this.activate(),Ae.length>0){if(Cn(),W!==null&&W!==this)return}else this.#i===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#c(){if(this.#n===0){for(const e of this.#e)e();this.#e.clear()}this.#i===0&&this.#u()}#u(){if(Kt.size>1){this.previous.clear();var e=Ce,t=!0,s={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of Kt){if(r===this){t=!1;continue}const a=[];for(const[u,d]of this.current){if(r.current.has(u))if(t&&d!==r.current.get(u))r.current.set(u,d);else continue;a.push(u)}if(a.length===0)continue;const l=[...r.current.keys()].filter(u=>!this.current.has(u));if(l.length>0){const u=new Set,d=new Map;for(const f of a)En(f,l,u,d);if(Ae.length>0){W=r,r.apply();for(const f of Ae)r.#s(f,s);Ae=[],r.deactivate()}}}W=null,Ce=e}this.committed=!0,Kt.delete(this)}increment(e){this.#i+=1,e&&(this.#n+=1)}decrement(e){this.#i-=1,e&&(this.#n-=1),this.revive()}revive(){for(const e of this.#o)se(e,de),it(e);for(const e of this.#a)se(e,Fe),it(e);this.#o=[],this.#a=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=vn()).promise}static ensure(){if(W===null){const e=W=new Ie;Kt.add(W),It||Ie.enqueue(()=>{W===e&&e.flush()})}return W}static enqueue(e){ri(e)}apply(){}}function Zs(i){var e=It;It=!0;try{for(var t;;){if(Js(),Ae.length===0&&(W?.flush(),Ae.length===0))return oi=null,t;Cn()}}finally{It=e}}function Cn(){var i=gt;vi=!0;try{var e=0;for(Ji(!0);Ae.length>0;){var t=Ie.ensure();if(e++>1e3){var s,r;Qs()}t.process(Ae),Ze.clear()}}finally{vi=!1,Ji(i),oi=null}}function Qs(){try{Ms()}catch(i){bt(i,oi)}}let Me=null;function Ki(i){var e=i.length;if(e!==0){for(var t=0;t<e;){var s=i[t++];if((s.f&(Ge|ve))===0&&Ut(s)&&(Me=new Set,Nt(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?Fn(s):s.fn=null),Me?.size>0)){Ze.clear();for(const r of Me){if((r.f&(Ge|ve))!==0)continue;const a=[r];let l=r.parent;for(;l!==null;)Me.has(l)&&(Me.delete(l),a.push(l)),l=l.parent;for(let u=a.length-1;u>=0;u--){const d=a[u];(d.f&(Ge|ve))===0&&Nt(d)}}Me.clear()}}Me=null}}function En(i,e,t,s){if(!t.has(i)&&(t.add(i),i.reactions!==null))for(const r of i.reactions){const a=r.f;(a&re)!==0?En(r,e,t,s):(a&(Oi|Ue))!==0&&(a&de)===0&&Tn(r,e,s)&&(se(r,de),it(r))}}function Tn(i,e,t){const s=t.get(i);if(s!==void 0)return s;if(i.deps!==null)for(const r of i.deps){if(e.includes(r))return!0;if((r.f&re)!==0&&Tn(r,e,t))return t.set(r,!0),!0}return t.set(i,!1),!1}function it(i){for(var e=oi=i;e.parent!==null;){e=e.parent;var t=e.f;if(vi&&e===D&&(t&Ue)!==0&&(t&mn)===0)return;if((t&(ot|ze))!==0){if((t&ne)===0)return;e.f^=ne}}Ae.push(e)}function er(i){let e=0,t=nt(0),s;return()=>{pr()&&(L(t),Dn(()=>(e===0&&(s=zt(()=>i(()=>Lt(t)))),e+=1,()=>{ri(()=>{e-=1,e===0&&(s?.(),s=void 0,Lt(t))})})))}}var tr=mt|_t|si;function ir(i,e,t){new nr(i,e,t)}class nr{parent;#e=!1;#t;#i=null;#n;#l;#o;#a=null;#s=null;#r=null;#c=null;#u=null;#f=0;#h=0;#p=!1;#d=null;#b=er(()=>(this.#d=nt(this.#f),()=>{this.#d=null}));constructor(e,t,s){this.#t=e,this.#n=t,this.#l=s,this.parent=D.b,this.#e=!!this.#n.pending,this.#o=Pi(()=>{D.b=this;{var r=this.#m();try{this.#a=xe(()=>s(r))}catch(a){this.error(a)}this.#h>0?this.#v():this.#e=!1}return()=>{this.#u?.remove()}},tr)}#w(){try{this.#a=xe(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#_(){const e=this.#n.pending;e&&(this.#s=xe(()=>e(this.#t)),Ie.enqueue(()=>{var t=this.#m();this.#a=this.#g(()=>(Ie.ensure(),xe(()=>this.#l(t)))),this.#h>0?this.#v():(pt(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#m(){var e=this.#t;return this.#e&&(this.#u=st(),this.#t.before(this.#u),e=this.#u),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#g(e){var t=D,s=N,r=$;Pe(this.#o),he(this.#o),yt(this.#o.ctx);try{return e()}catch(a){return xn(a),null}finally{Pe(t),he(s),yt(r)}}#v(){const e=this.#n.pending;this.#a!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),Wn(this.#a,this.#c)),this.#s===null&&(this.#s=xe(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#h+=e,this.#h===0&&(this.#e=!1,this.#s&&pt(this.#s,()=>{this.#s=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(e){this.#y(e),this.#f+=e,this.#d&&qt(this.#d,this.#f)}get_effect_pending(){return this.#b(),L(this.#d)}error(e){var t=this.#n.onerror;let s=this.#n.failed;if(this.#p||!t&&!s)throw e;this.#a&&(ue(this.#a),this.#a=null),this.#s&&(ue(this.#s),this.#s=null),this.#r&&(ue(this.#r),this.#r=null);var r=!1,a=!1;const l=()=>{if(r){Vs();return}r=!0,a&&zs(),Ie.ensure(),this.#f=0,this.#r!==null&&pt(this.#r,()=>{this.#r=null}),this.#e=this.has_pending_snippet(),this.#a=this.#g(()=>(this.#p=!1,xe(()=>this.#l(this.#t)))),this.#h>0?this.#v():this.#e=!1};var u=N;try{he(null),a=!0,t?.(e,l),a=!1}catch(d){bt(d,this.#o&&this.#o.parent)}finally{he(u)}s&&ri(()=>{this.#r=this.#g(()=>{Ie.ensure(),this.#p=!0;try{return xe(()=>{s(this.#t,()=>e,()=>l)})}catch(d){return bt(d,this.#o.parent),null}finally{this.#p=!1}})})}}function sr(i,e,t,s){const r=jt()?Ai:kn;if(t.length===0&&i.length===0){s(e.map(r));return}var a=W,l=D,u=rr();function d(){Promise.all(t.map(f=>or(f))).then(f=>{u();try{s([...e.map(r),...f])}catch(x){(l.f&Ge)===0&&bt(x,l)}a?.deactivate(),ei()}).catch(f=>{bt(f,l)})}i.length>0?Promise.all(i).then(()=>{u();try{return d()}finally{a?.deactivate(),ei()}}):d()}function rr(){var i=D,e=N,t=$,s=W;return function(a=!0){Pe(i),he(e),yt(t),a&&s?.activate()}}function ei(){Pe(null),he(null),yt(null)}function Ai(i){var e=re|de,t=N!==null&&(N.f&re)!==0?N:null;return D===null||t!==null&&(t.f&_e)!==0?e|=_e:D.f|=_t,{ctx:$,deps:null,effects:null,equals:bn,f:e,fn:i,reactions:null,rv:0,v:ie,wv:0,parent:t??D,ac:null}}function or(i,e){let t=D;t===null&&Ps();var s=t.b,r=void 0,a=nt(ie),l=!N,u=new Map;return mr(()=>{var d=vn();r=d.promise;try{Promise.resolve(i()).then(d.resolve,d.reject).then(()=>{f===W&&f.committed&&f.deactivate(),ei()})}catch(g){d.reject(g),ei()}var f=W;if(l){var x=!s.is_pending();s.update_pending_count(1),f.increment(x),u.get(f)?.reject(ht),u.delete(f),u.set(f,d)}const _=(g,b=void 0)=>{if(f.activate(),b)b!==ht&&(a.f|=Je,qt(a,b));else{(a.f&Je)!==0&&(a.f^=Je),qt(a,g);for(const[w,S]of u){if(u.delete(w),w===f)break;S.reject(ht)}}l&&(s.update_pending_count(-1),f.decrement(x))};d.promise.then(_,g=>_(null,g||"unknown"))}),Li(()=>{for(const d of u.values())d.reject(ht)}),new Promise(d=>{function f(x){function _(){x===r?d(a):f(r)}x.then(_,_)}f(r)})}function kn(i){const e=Ai(i);return e.equals=_n,e}function On(i){var e=i.effects;if(e!==null){i.effects=null;for(var t=0;t<e.length;t+=1)ue(e[t])}}function ar(i){for(var e=i.parent;e!==null;){if((e.f&re)===0)return e;e=e.parent}return null}function Ii(i){var e,t=D;Pe(ar(i));try{i.f&=~Qt,On(i),e=Kn(i)}finally{Pe(t)}return e}function An(i){var e=Ii(i);if(i.equals(e)||(i.v=e,i.wv=Hn()),!Ct)if(Ce!==null)Ce.set(i,i.v);else{var t=($e||(i.f&_e)!==0)&&i.deps!==null?Fe:ne;se(i,t)}}let mi=new Set;const Ze=new Map;let In=!1;function nt(i,e){var t={f:0,v:i,reactions:null,equals:bn,rv:0,wv:0};return t}function He(i,e){const t=nt(i);return wr(t),t}function Q(i,e=!1,t=!0){const s=nt(i);return e||(s.equals=_n),Mt&&t&&$!==null&&$.l!==null&&($.l.s??=[]).push(s),s}function z(i,e,t=!1){N!==null&&(!Ee||(N.f&Vi)!==0)&&jt()&&(N.f&(re|Ue|Oi|Vi))!==0&&!je?.includes(i)&&Us();let s=t?Tt(e):e;return qt(i,s)}function qt(i,e){if(!i.equals(e)){var t=i.v;Ct?Ze.set(i,e):Ze.set(i,t),i.v=e;var s=Ie.ensure();s.capture(i,t),(i.f&re)!==0&&((i.f&de)!==0&&Ii(i),se(i,(i.f&_e)===0?ne:Fe)),i.wv=Hn(),Ln(i,de),jt()&&D!==null&&(D.f&ne)!==0&&(D.f&(ze|ot))===0&&(we===null?_r([i]):we.push(i)),!s.is_fork&&mi.size>0&&!In&&lr()}return e}function lr(){In=!1;const i=Array.from(mi);for(const e of i)(e.f&ne)!==0&&se(e,Fe),Ut(e)&&Nt(e);mi.clear()}function Lt(i){z(i,i.v+1)}function Ln(i,e){var t=i.reactions;if(t!==null)for(var s=jt(),r=t.length,a=0;a<r;a++){var l=t[a],u=l.f;if(!(!s&&l===D)){var d=(u&de)===0;d&&se(l,e),(u&re)!==0?(u&Qt)===0&&(l.f|=Qt,Ln(l,Fe)):d&&((u&Ue)!==0&&Me!==null&&Me.add(l),it(l))}}}function Tt(i){if(typeof i!="object"||i===null||At in i)return i;const e=Ei(i);if(e!==ks&&e!==Os)return i;var t=new Map,s=fn(i),r=He(0),a=tt,l=u=>{if(tt===a)return u();var d=N,f=tt;he(null),Qi(a);var x=u();return he(d),Qi(f),x};return s&&t.set("length",He(i.length)),new Proxy(i,{defineProperty(u,d,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&js();var x=t.get(d);return x===void 0?x=l(()=>{var _=He(f.value);return t.set(d,_),_}):z(x,f.value,!0),!0},deleteProperty(u,d){var f=t.get(d);if(f===void 0){if(d in u){const x=l(()=>He(ie));t.set(d,x),Lt(r)}}else z(f,ie),Lt(r);return!0},get(u,d,f){if(d===At)return i;var x=t.get(d),_=d in u;if(x===void 0&&(!_||Ot(u,d)?.writable)&&(x=l(()=>{var b=Tt(_?u[d]:ie),w=He(b);return w}),t.set(d,x)),x!==void 0){var g=L(x);return g===ie?void 0:g}return Reflect.get(u,d,f)},getOwnPropertyDescriptor(u,d){var f=Reflect.getOwnPropertyDescriptor(u,d);if(f&&"value"in f){var x=t.get(d);x&&(f.value=L(x))}else if(f===void 0){var _=t.get(d),g=_?.v;if(_!==void 0&&g!==ie)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return f},has(u,d){if(d===At)return!0;var f=t.get(d),x=f!==void 0&&f.v!==ie||Reflect.has(u,d);if(f!==void 0||D!==null&&(!x||Ot(u,d)?.writable)){f===void 0&&(f=l(()=>{var g=x?Tt(u[d]):ie,b=He(g);return b}),t.set(d,f));var _=L(f);if(_===ie)return!1}return x},set(u,d,f,x){var _=t.get(d),g=d in u;if(s&&d==="length")for(var b=f;b<_.v;b+=1){var w=t.get(b+"");w!==void 0?z(w,ie):b in u&&(w=l(()=>He(ie)),t.set(b+"",w))}if(_===void 0)(!g||Ot(u,d)?.writable)&&(_=l(()=>He(void 0)),z(_,Tt(f)),t.set(d,_));else{g=_.v!==ie;var S=l(()=>Tt(f));z(_,S)}var T=Reflect.getOwnPropertyDescriptor(u,d);if(T?.set&&T.set.call(x,f),!g){if(s&&typeof d=="string"){var k=t.get("length"),P=Number(d);Number.isInteger(P)&&P>=k.v&&z(k,P+1)}Lt(r)}return!0},ownKeys(u){L(r);var d=Reflect.ownKeys(u).filter(_=>{var g=t.get(_);return g===void 0||g.v!==ie});for(var[f,x]of t)x.v!==ie&&!(f in u)&&d.push(f);return d},setPrototypeOf(){Ds()}})}var $i,Pn,qn,Rn;function cr(){if($i===void 0){$i=window,Pn=/Firefox/.test(navigator.userAgent);var i=Element.prototype,e=Node.prototype,t=Text.prototype;qn=Ot(e,"firstChild").get,Rn=Ot(e,"nextSibling").get,Hi(i)&&(i.__click=void 0,i.__className=void 0,i.__attributes=null,i.__style=void 0,i.__e=void 0),Hi(t)&&(t.__t=void 0)}}function st(i=""){return document.createTextNode(i)}function ti(i){return qn.call(i)}function Dt(i){return Rn.call(i)}function X(i,e){return ti(i)}function Qe(i,e=!1){{var t=ti(i);return t instanceof Comment&&t.data===""?Dt(t):t}}function V(i,e=1,t=!1){let s=i;for(;e--;)s=Dt(s);return s}function ur(i){i.textContent=""}function Nn(){return!1}let Gi=!1;function hr(){Gi||(Gi=!0,document.addEventListener("reset",i=>{Promise.resolve().then(()=>{if(!i.defaultPrevented)for(const e of i.target.elements)e.__on_r?.()})},{capture:!0}))}function ai(i){var e=N,t=D;he(null),Pe(null);try{return i()}finally{he(e),Pe(t)}}function dr(i,e,t,s=t){i.addEventListener(e,()=>ai(t));const r=i.__on_r;r?i.__on_r=()=>{r(),s(!0)}:i.__on_r=()=>s(!0),hr()}function Mn(i){D===null&&N===null&&Ns(),N!==null&&(N.f&_e)!==0&&D===null&&Rs(),Ct&&qs()}function fr(i,e){var t=e.last;t===null?e.last=e.first=i:(t.next=i,i.prev=t,e.last=i)}function Be(i,e,t,s=!0){var r=D;r!==null&&(r.f&ve)!==0&&(i|=ve);var a={ctx:$,deps:null,nodes_start:null,nodes_end:null,f:i|de,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{Nt(a),a.f|=ki}catch(d){throw ue(a),d}else e!==null&&it(a);if(s){var l=a;if(t&&l.deps===null&&l.teardown===null&&l.nodes_start===null&&l.first===l.last&&(l.f&_t)===0&&(l=l.first,(i&Ue)!==0&&(i&mt)!==0&&l!==null&&(l.f|=mt)),l!==null&&(l.parent=r,r!==null&&fr(l,r),N!==null&&(N.f&re)!==0&&(i&ot)===0)){var u=N;(u.effects??=[]).push(l)}}return a}function pr(){return N!==null&&!Ee}function Li(i){const e=Be(ni,null,!1);return se(e,ne),e.teardown=i,e}function yi(i){Mn();var e=D.f,t=!N&&(e&ze)!==0&&(e&ki)===0;if(t){var s=$;(s.e??=[]).push(i)}else return jn(i)}function jn(i){return Be(Ti|yn,i,!1)}function gr(i){return Mn(),Be(ni|yn,i,!0)}function vr(i){Ie.ensure();const e=Be(ot|_t,i,!0);return(t={})=>new Promise(s=>{t.outro?pt(e,()=>{ue(e),s(void 0)}):(ue(e),s(void 0))})}function mr(i){return Be(Oi|_t,i,!0)}function Dn(i,e=0){return Be(ni|e,i,!0)}function rt(i,e=[],t=[],s=[],r=!1){sr(s,e,t,a=>{Be(r?Ti:ni,()=>i(...a.map(L)),!0)})}function Pi(i,e=0){var t=Be(Ue|e,i,!0);return t}function xe(i,e=!0){return Be(ze|_t,i,!0,e)}function Un(i){var e=i.teardown;if(e!==null){const t=Ct,s=N;Zi(!0),he(null);try{e.call(null)}finally{Zi(t),he(s)}}}function zn(i,e=!1){var t=i.first;for(i.first=i.last=null;t!==null;){const r=t.ac;r!==null&&ai(()=>{r.abort(ht)});var s=t.next;(t.f&ot)!==0?t.parent=null:ue(t,e),t=s}}function yr(i){for(var e=i.first;e!==null;){var t=e.next;(e.f&ze)===0&&ue(e),e=t}}function ue(i,e=!0){var t=!1;(e||(i.f&mn)!==0)&&i.nodes_start!==null&&i.nodes_end!==null&&(br(i.nodes_start,i.nodes_end),t=!0),zn(i,e&&!t),ii(i,0),se(i,Ge);var s=i.transitions;if(s!==null)for(const a of s)a.stop();Un(i);var r=i.parent;r!==null&&r.first!==null&&Fn(i),i.next=i.prev=i.teardown=i.ctx=i.deps=i.fn=i.nodes_start=i.nodes_end=i.ac=null}function br(i,e){for(;i!==null;){var t=i===e?null:Dt(i);i.remove(),i=t}}function Fn(i){var e=i.parent,t=i.prev,s=i.next;t!==null&&(t.next=s),s!==null&&(s.prev=t),e!==null&&(e.first===i&&(e.first=s),e.last===i&&(e.last=t))}function pt(i,e,t=!0){var s=[];qi(i,s,!0),Bn(s,()=>{t&&ue(i),e&&e()})}function Bn(i,e){var t=i.length;if(t>0){var s=()=>--t||e();for(var r of i)r.out(s)}else e()}function qi(i,e,t){if((i.f&ve)===0){if(i.f^=ve,i.transitions!==null)for(const l of i.transitions)(l.is_global||t)&&e.push(l);for(var s=i.first;s!==null;){var r=s.next,a=(s.f&mt)!==0||(s.f&ze)!==0&&(i.f&Ue)!==0;qi(s,e,a?t:!1),s=r}}}function Ri(i){Yn(i,!0)}function Yn(i,e){if((i.f&ve)!==0){i.f^=ve,(i.f&ne)===0&&(se(i,de),it(i));for(var t=i.first;t!==null;){var s=t.next,r=(t.f&mt)!==0||(t.f&ze)!==0;Yn(t,r?e:!1),t=s}if(i.transitions!==null)for(const a of i.transitions)(a.is_global||e)&&a.in()}}function Wn(i,e){for(var t=i.nodes_start,s=i.nodes_end;t!==null;){var r=t===s?null:Dt(t);e.append(t),t=r}}let gt=!1;function Ji(i){gt=i}let Ct=!1;function Zi(i){Ct=i}let N=null,Ee=!1;function he(i){N=i}let D=null;function Pe(i){D=i}let je=null;function wr(i){N!==null&&(je===null?je=[i]:je.push(i))}let ce=null,ge=0,we=null;function _r(i){we=i}let Xn=1,Rt=0,tt=Rt;function Qi(i){tt=i}let $e=!1;function Hn(){return++Xn}function Ut(i){var e=i.f;if((e&de)!==0)return!0;if((e&Fe)!==0){var t=i.deps,s=(e&_e)!==0;if(e&re&&(i.f&=~Qt),t!==null){var r,a,l=(e&Zt)!==0,u=s&&D!==null&&!$e,d=t.length;if((l||u)&&(D===null||(D.f&Ge)===0)){var f=i,x=f.parent;for(r=0;r<d;r++)a=t[r],(l||!a?.reactions?.includes(f))&&(a.reactions??=[]).push(f);l&&(f.f^=Zt),u&&x!==null&&(x.f&_e)===0&&(f.f^=_e)}for(r=0;r<d;r++)if(a=t[r],Ut(a)&&An(a),a.wv>i.wv)return!0}(!s||D!==null&&!$e)&&se(i,ne)}return!1}function Vn(i,e,t=!0){var s=i.reactions;if(s!==null&&!je?.includes(i))for(var r=0;r<s.length;r++){var a=s[r];(a.f&re)!==0?Vn(a,e,!1):e===a&&(t?se(a,de):(a.f&ne)!==0&&se(a,Fe),it(a))}}function Kn(i){var e=ce,t=ge,s=we,r=N,a=$e,l=je,u=$,d=Ee,f=tt,x=i.f;ce=null,ge=0,we=null,$e=(x&_e)!==0&&(Ee||!gt||N===null),N=(x&(ze|ot))===0?i:null,je=null,yt(i.ctx),Ee=!1,tt=++Rt,i.ac!==null&&(ai(()=>{i.ac.abort(ht)}),i.ac=null);try{i.f|=gi;var _=i.fn,g=_(),b=i.deps;if(ce!==null){var w;if(ii(i,ge),b!==null&&ge>0)for(b.length=ge+ce.length,w=0;w<ce.length;w++)b[ge+w]=ce[w];else i.deps=b=ce;if(!$e||(x&re)!==0&&i.reactions!==null)for(w=ge;w<b.length;w++)(b[w].reactions??=[]).push(i)}else b!==null&&ge<b.length&&(ii(i,ge),b.length=ge);if(jt()&&we!==null&&!Ee&&b!==null&&(i.f&(re|Fe|de))===0)for(w=0;w<we.length;w++)Vn(we[w],i);return r!==null&&r!==i&&(Rt++,we!==null&&(s===null?s=we:s.push(...we))),(i.f&Je)!==0&&(i.f^=Je),g}catch(S){return xn(S)}finally{i.f^=gi,ce=e,ge=t,we=s,N=r,$e=a,je=l,yt(u),Ee=d,tt=f}}function Sr(i,e){let t=e.reactions;if(t!==null){var s=Ts.call(t,i);if(s!==-1){var r=t.length-1;r===0?t=e.reactions=null:(t[s]=t[r],t.pop())}}t===null&&(e.f&re)!==0&&(ce===null||!ce.includes(e))&&(se(e,Fe),(e.f&(_e|Zt))===0&&(e.f^=Zt),On(e),ii(e,0))}function ii(i,e){var t=i.deps;if(t!==null)for(var s=e;s<t.length;s++)Sr(i,t[s])}function Nt(i){var e=i.f;if((e&Ge)===0){se(i,ne);var t=D,s=gt;D=i,gt=!0;try{(e&Ue)!==0?yr(i):zn(i),Un(i);var r=Kn(i);i.teardown=typeof r=="function"?r:null,i.wv=Xn;var a;dn&&$s&&(i.f&de)!==0&&i.deps}finally{gt=s,D=t}}}async function xr(){await Promise.resolve(),Zs()}function L(i){var e=i.f,t=(e&re)!==0;if(N!==null&&!Ee){var s=D!==null&&(D.f&Ge)!==0;if(!s&&!je?.includes(i)){var r=N.deps;if((N.f&gi)!==0)i.rv<Rt&&(i.rv=Rt,ce===null&&r!==null&&r[ge]===i?ge++:ce===null?ce=[i]:(!$e||!ce.includes(i))&&ce.push(i));else{(N.deps??=[]).push(i);var a=i.reactions;a===null?i.reactions=[N]:a.includes(N)||a.push(N)}}}else if(t&&i.deps===null&&i.effects===null){var l=i,u=l.parent;u!==null&&(u.f&_e)===0&&(l.f^=_e)}if(Ct){if(Ze.has(i))return Ze.get(i);if(t){l=i;var d=l.v;return((l.f&ne)===0&&l.reactions!==null||$n(l))&&(d=Ii(l)),Ze.set(l,d),d}}else if(t){if(l=i,Ce?.has(l))return Ce.get(l);Ut(l)&&An(l)}if(Ce?.has(i))return Ce.get(i);if((i.f&Je)!==0)throw i.v;return i.v}function $n(i){if(i.v===ie)return!0;if(i.deps===null)return!1;for(const e of i.deps)if(Ze.has(e)||(e.f&re)!==0&&$n(e))return!0;return!1}function zt(i){var e=Ee;try{return Ee=!0,i()}finally{Ee=e}}const Cr=-7169;function se(i,e){i.f=i.f&Cr|e}function Er(i){if(!(typeof i!="object"||!i||i instanceof EventTarget)){if(At in i)bi(i);else if(!Array.isArray(i))for(let e in i){const t=i[e];typeof t=="object"&&t&&At in t&&bi(t)}}}function bi(i,e=new Set){if(typeof i=="object"&&i!==null&&!(i instanceof EventTarget)&&!e.has(i)){e.add(i),i instanceof Date&&i.getTime();for(let s in i)try{bi(i[s],e)}catch{}const t=Ei(i);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const s=gn(t);for(let r in s){const a=s[r].get;if(a)try{a.call(i)}catch{}}}}}const Tr=["touchstart","touchmove"];function kr(i){return Tr.includes(i)}const Or=new Set,en=new Set;function Ar(i,e,t,s={}){function r(a){if(s.capture||kt.call(e,a),!a.cancelBubble)return ai(()=>t?.call(this,a))}return i.startsWith("pointer")||i.startsWith("touch")||i==="wheel"?ri(()=>{e.addEventListener(i,r,s)}):e.addEventListener(i,r,s),r}function Ke(i,e,t,s,r){var a={capture:s,passive:r},l=Ar(i,e,t,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Li(()=>{e.removeEventListener(i,l,a)})}let tn=null;function kt(i){var e=this,t=e.ownerDocument,s=i.type,r=i.composedPath?.()||[],a=r[0]||i.target;tn=i;var l=0,u=tn===i&&i.__root;if(u){var d=r.indexOf(u);if(d!==-1&&(e===document||e===window)){i.__root=e;return}var f=r.indexOf(e);if(f===-1)return;d<=f&&(l=d)}if(a=r[l]||i.target,a!==e){pn(i,"currentTarget",{configurable:!0,get(){return a||t}});var x=N,_=D;he(null),Pe(null);try{for(var g,b=[];a!==null;){var w=a.assignedSlot||a.parentNode||a.host||null;try{var S=a["__"+s];S!=null&&(!a.disabled||i.target===a)&&S.call(a,i)}catch(T){g?b.push(T):g=T}if(i.cancelBubble||w===e||w===null)break;a=w}if(g){for(let T of b)queueMicrotask(()=>{throw T});throw g}}finally{i.__root=e,delete i.currentTarget,he(x),Pe(_)}}}function Ir(i){var e=document.createElement("template");return e.innerHTML=i.replaceAll("<!>","<!---->"),e.content}function wi(i,e){var t=D;t.nodes_start===null&&(t.nodes_start=i,t.nodes_end=e)}function ye(i,e){var t=(e&Ws)!==0,s=(e&Xs)!==0,r,a=!i.startsWith("<!>");return()=>{r===void 0&&(r=Ir(a?i:"<!>"+i),t||(r=ti(r)));var l=s||Pn?document.importNode(r,!0):r.cloneNode(!0);if(t){var u=ti(l),d=l.lastChild;wi(u,d)}else wi(l,l);return l}}function Pt(){var i=document.createDocumentFragment(),e=document.createComment(""),t=st();return i.append(e,t),wi(e,t),i}function Z(i,e){i!==null&&i.before(e)}function wt(i,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(i.__t??=i.nodeValue)&&(i.__t=t,i.nodeValue=t+"")}function Lr(i,e){return Pr(i,e)}const ct=new Map;function Pr(i,{target:e,anchor:t,props:s={},events:r,context:a,intro:l=!0}){cr();var u=new Set,d=_=>{for(var g=0;g<_.length;g++){var b=_[g];if(!u.has(b)){u.add(b);var w=kr(b);e.addEventListener(b,kt,{passive:w});var S=ct.get(b);S===void 0?(document.addEventListener(b,kt,{passive:w}),ct.set(b,1)):ct.set(b,S+1)}}};d(Ci(Or)),en.add(d);var f=void 0,x=vr(()=>{var _=t??e.appendChild(st());return ir(_,{pending:()=>{}},g=>{if(a){St({});var b=$;b.c=a}r&&(s.$$events=r),f=i(g,s)||{},a&&xt()}),()=>{for(var g of u){e.removeEventListener(g,kt);var b=ct.get(g);--b===0?(document.removeEventListener(g,kt),ct.delete(g)):ct.set(g,b)}en.delete(d),_!==t&&_.parentNode?.removeChild(_)}});return qr.set(f,x),f}let qr=new WeakMap;class Rr{anchor;#e=new Map;#t=new Map;#i=new Map;#n=!0;constructor(e,t=!0){this.anchor=e,this.#n=t}#l=()=>{var e=W;if(this.#e.has(e)){var t=this.#e.get(e),s=this.#t.get(t);if(s)Ri(s);else{var r=this.#i.get(t);r&&(this.#t.set(t,r.effect),this.#i.delete(t),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),s=r.effect)}for(const[a,l]of this.#e){if(this.#e.delete(a),a===e)break;const u=this.#i.get(l);u&&(ue(u.effect),this.#i.delete(l))}for(const[a,l]of this.#t){if(a===t)continue;const u=()=>{if(Array.from(this.#e.values()).includes(a)){var f=document.createDocumentFragment();Wn(l,f),f.append(st()),this.#i.set(a,{effect:l,fragment:f})}else ue(l);this.#t.delete(a)};this.#n||!s?pt(l,u,!1):u()}}};#o=e=>{this.#e.delete(e);const t=Array.from(this.#e.values());for(const[s,r]of this.#i)t.includes(s)||(ue(r.effect),this.#i.delete(s))};ensure(e,t){var s=W,r=Nn();if(t&&!this.#t.has(e)&&!this.#i.has(e))if(r){var a=document.createDocumentFragment(),l=st();a.append(l),this.#i.set(e,{effect:xe(()=>t(l)),fragment:a})}else this.#t.set(e,xe(()=>t(this.anchor)));if(this.#e.set(s,e),r){for(const[u,d]of this.#t)u===e?s.skipped_effects.delete(d):s.skipped_effects.add(d);for(const[u,d]of this.#i)u===e?s.skipped_effects.delete(d.effect):s.skipped_effects.add(d.effect);s.oncommit(this.#l),s.ondiscard(this.#o)}else this.#l()}}function Le(i,e,t=!1){var s=new Rr(i),r=t?mt:0;function a(l,u){s.ensure(l,u)}Pi(()=>{var l=!1;e((u,d=!0)=>{l=!0,a(d,u)}),l||a(!1,null)},r)}function Nr(i,e){return e}function Mr(i,e,t){for(var s=i.items,r=[],a=e.length,l=0;l<a;l++)qi(e[l].e,r,!0);var u=a>0&&r.length===0&&t!==null;if(u){var d=t.parentNode;ur(d),d.append(t),s.clear(),Oe(i,e[0].prev,e[a-1].next)}Bn(r,()=>{for(var f=0;f<a;f++){var x=e[f];u||(s.delete(x.k),Oe(i,x.prev,x.next)),ue(x.e,!u)}})}function jr(i,e,t,s,r,a=null){var l=i,u={flags:e,items:new Map,first:null};{var d=i;l=d.appendChild(st())}var f=null,x=!1,_=new Map,g=kn(()=>{var T=t();return fn(T)?T:T==null?[]:Ci(T)}),b,w;function S(){Dr(w,b,u,_,l,r,e,s,t),a!==null&&(b.length===0?f?Ri(f):f=xe(()=>a(l)):f!==null&&pt(f,()=>{f=null}))}Pi(()=>{w??=D,b=L(g);var T=b.length;if(!(x&&T===0)){x=T===0;var k,P,A,U;if(Nn()){var Y=new Set,ee=W;for(P=0;P<T;P+=1){A=b[P],U=s(A,P);var B=u.items.get(U)??_.get(U);B?Gn(B,A,P):(k=Jn(null,u,null,null,A,U,P,r,e,t,!0),_.set(U,k)),Y.add(U)}for(const[J,H]of u.items)Y.has(J)||ee.skipped_effects.add(H.e);ee.oncommit(S)}else S();L(g)}})}function Dr(i,e,t,s,r,a,l,u,d){var f=e.length,x=t.items,_=t.first,g=_,b,w=null,S=[],T=[],k,P,A,U;for(U=0;U<f;U+=1){if(k=e[U],P=u(k,U),A=x.get(P),A===void 0){var Y=s.get(P);if(Y!==void 0){s.delete(P),x.set(P,Y);var ee=w?w.next:g;Oe(t,w,Y),Oe(t,Y,ee),ci(Y,ee,r),w=Y}else{var B=g?g.e.nodes_start:r;w=Jn(B,t,w,w===null?t.first:w.next,k,P,U,a,l,d)}x.set(P,w),S=[],T=[],g=w.next;continue}if(Gn(A,k,U),(A.e.f&ve)!==0&&Ri(A.e),A!==g){if(b!==void 0&&b.has(A)){if(S.length<T.length){var J=T[0],H;w=J.prev;var M=S[0],Se=S[S.length-1];for(H=0;H<S.length;H+=1)ci(S[H],J,r);for(H=0;H<T.length;H+=1)b.delete(T[H]);Oe(t,M.prev,Se.next),Oe(t,w,M),Oe(t,Se,J),g=J,w=Se,U-=1,S=[],T=[]}else b.delete(A),ci(A,g,r),Oe(t,A.prev,A.next),Oe(t,A,w===null?t.first:w.next),Oe(t,w,A),w=A;continue}for(S=[],T=[];g!==null&&g.k!==P;)(g.e.f&ve)===0&&(b??=new Set).add(g),T.push(g),g=g.next;if(g===null)continue;A=g}S.push(A),w=A,g=A.next}if(g!==null||b!==void 0){for(var oe=b===void 0?[]:Ci(b);g!==null;)(g.e.f&ve)===0&&oe.push(g),g=g.next;var at=oe.length;if(at>0){var Bt=f===0?r:null;Mr(t,oe,Bt)}}i.first=t.first&&t.first.e,i.last=w&&w.e;for(var We of s.values())ue(We.e);s.clear()}function Gn(i,e,t,s){qt(i.v,e),i.i=t}function Jn(i,e,t,s,r,a,l,u,d,f,x){var _=(d&Fs)!==0,g=(d&Ys)===0,b=_?g?Q(r,!1,!1):nt(r):r,w=(d&Bs)===0?l:nt(l),S={i:w,v:b,k:a,a:null,e:null,prev:t,next:s};try{if(i===null){var T=document.createDocumentFragment();T.append(i=st())}return S.e=xe(()=>u(i,b,w,f),Ks),S.e.prev=t&&t.e,S.e.next=s&&s.e,t===null?x||(e.first=S):(t.next=S,t.e.next=S.e),s!==null&&(s.prev=S,s.e.prev=S.e),S}finally{}}function ci(i,e,t){for(var s=i.next?i.next.e.nodes_start:t,r=e?e.e.nodes_start:t,a=i.e.nodes_start;a!==null&&a!==s;){var l=Dt(a);r.before(a),a=l}}function Oe(i,e,t){e===null?i.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const nn=[...` 	
\r\fÂ \v\uFEFF`];function Ur(i,e,t){var s=""+i;if(t){for(var r in t)if(t[r])s=s?s+" "+r:r;else if(s.length)for(var a=r.length,l=0;(l=s.indexOf(r,l))>=0;){var u=l+a;(l===0||nn.includes(s[l-1]))&&(u===s.length||nn.includes(s[u]))?s=(l===0?"":s.substring(0,l))+s.substring(u+1):l=u}}return s===""?null:s}function zr(i,e,t,s,r,a){var l=i.__className;if(l!==t||l===void 0){var u=Ur(t,s,a);u==null?i.removeAttribute("class"):i.className=u,i.__className=t}else if(a&&r!==a)for(var d in a){var f=!!a[d];(r==null||f!==!!r[d])&&i.classList.toggle(d,f)}return a}const Fr=Symbol("is custom element"),Br=Symbol("is html");function ui(i,e,t,s){var r=Yr(i);r[e]!==(r[e]=t)&&(e==="loading"&&(i[Is]=t),t==null?i.removeAttribute(e):typeof t!="string"&&Wr(i).includes(e)?i[e]=t:i.setAttribute(e,t))}function Yr(i){return i.__attributes??={[Fr]:i.nodeName.includes("-"),[Br]:i.namespaceURI===Hs}}var sn=new Map;function Wr(i){var e=i.getAttribute("is")||i.nodeName,t=sn.get(e);if(t)return t;sn.set(e,t=[]);for(var s,r=i,a=Element.prototype;a!==r;){s=gn(r);for(var l in s)s[l].set&&t.push(l);r=Ei(r)}return t}function dt(i,e,t=e){var s=new WeakSet;dr(i,"input",async r=>{var a=r?i.defaultValue:i.value;if(a=hi(i)?di(a):a,t(a),W!==null&&s.add(W),await xr(),a!==(a=e())){var l=i.selectionStart,u=i.selectionEnd,d=i.value.length;if(i.value=a??"",u!==null){var f=i.value.length;l===u&&u===d&&f>d?(i.selectionStart=f,i.selectionEnd=f):(i.selectionStart=l,i.selectionEnd=Math.min(u,f))}}}),zt(e)==null&&i.value&&(t(hi(i)?di(i.value):i.value),W!==null&&s.add(W)),Dn(()=>{var r=e();if(i===document.activeElement){var a=Gt??W;if(s.has(a))return}hi(i)&&r===di(i.value)||i.type==="date"&&!r&&!i.value||r!==i.value&&(i.value=r??"")})}function hi(i){var e=i.type;return e==="number"||e==="range"}function di(i){return i===""?null:+i}function Zn(i){return function(...e){var t=e[0];return t.preventDefault(),i?.apply(this,e)}}function Ft(i=!1){const e=$,t=e.l.u;if(!t)return;let s=()=>Er(e.s);if(i){let r=0,a={};const l=Ai(()=>{let u=!1;const d=e.s;for(const f in d)d[f]!==a[f]&&(a[f]=d[f],u=!0);return u&&r++,r});s=()=>L(l)}t.b.length&&gr(()=>{rn(e,s),pi(t.b)}),yi(()=>{const r=zt(()=>t.m.map(As));return()=>{for(const a of r)typeof a=="function"&&a()}}),t.a.length&&yi(()=>{rn(e,s),pi(t.a)})}function rn(i,e){if(i.l.s)for(const t of i.l.s)L(t);e()}function Qn(i,e,t){if(i==null)return e(void 0),ft;const s=zt(()=>i.subscribe(e,t));return s.unsubscribe?()=>s.unsubscribe():s}const ut=[];function Xr(i,e=ft){let t=null;const s=new Set;function r(u){if(wn(i,u)&&(i=u,t)){const d=!ut.length;for(const f of s)f[1](),ut.push(f,i);if(d){for(let f=0;f<ut.length;f+=2)ut[f][0](ut[f+1]);ut.length=0}}}function a(u){r(u(i))}function l(u,d=ft){const f=[u,d];return s.add(f),s.size===1&&(t=e(r,a)||ft),u(i),()=>{s.delete(f),s.size===0&&t&&(t(),t=null)}}return{set:r,update:a,subscribe:l}}function Hr(i){let e;return Qn(i,t=>e=t)(),e}let _i=Symbol();function Vr(i,e,t){const s=t[e]??={store:null,source:Q(void 0),unsubscribe:ft};if(s.store!==i&&!(_i in t))if(s.unsubscribe(),s.store=i??null,i==null)s.source.v=void 0,s.unsubscribe=ft;else{var r=!0;s.unsubscribe=Qn(i,a=>{r?s.source.v=a:z(s.source,a)}),r=!1}return i&&_i in t?Hr(i):L(s.source)}function Kr(){const i={};function e(){Li(()=>{for(var t in i)i[t].unsubscribe();pn(i,_i,{enumerable:!1,value:!0})})}return[i,e]}function es(i){$===null&&Ls(),Mt&&$.l!==null?$r($).m.push(i):yi(()=>{const e=zt(i);if(typeof e=="function")return e})}function $r(i){var e=i.l;return e.u??={a:[],b:[],m:[]}}const Gr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Gr);Gs();class me extends Error{constructor(e){super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,me.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof me||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":this.originalError?.cause?.message?.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong."),this.cause=this.originalError}get data(){return this.response}toJSON(){return{...this}}}const $t=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Jr(i,e){const t={};if(typeof i!="string")return t;const s=Object.assign({},{}).decode||Zr;let r=0;for(;r<i.length;){const a=i.indexOf("=",r);if(a===-1)break;let l=i.indexOf(";",r);if(l===-1)l=i.length;else if(l<a){r=i.lastIndexOf(";",a-1)+1;continue}const u=i.slice(r,a).trim();if(t[u]===void 0){let d=i.slice(a+1,l).trim();d.charCodeAt(0)===34&&(d=d.slice(1,-1));try{t[u]=s(d)}catch{t[u]=d}}r=l+1}return t}function on(i,e,t){const s=Object.assign({},t||{}),r=s.encode||Qr;if(!$t.test(i))throw new TypeError("argument name is invalid");const a=r(e);if(a&&!$t.test(a))throw new TypeError("argument val is invalid");let l=i+"="+a;if(s.maxAge!=null){const u=s.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(s.domain){if(!$t.test(s.domain))throw new TypeError("option domain is invalid");l+="; Domain="+s.domain}if(s.path){if(!$t.test(s.path))throw new TypeError("option path is invalid");l+="; Path="+s.path}if(s.expires){if(!(function(d){return Object.prototype.toString.call(d)==="[object Date]"||d instanceof Date})(s.expires)||isNaN(s.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.priority)switch(typeof s.priority=="string"?s.priority.toLowerCase():s.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function Zr(i){return i.indexOf("%")!==-1?decodeURIComponent(i):i}function Qr(i){return encodeURIComponent(i)}const eo=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let ts;function vt(i){if(i)try{const e=decodeURIComponent(ts(i.split(".")[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(e)||{}}catch{}return{}}function is(i,e=0){let t=vt(i);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}ts=typeof atob!="function"||eo?i=>{let e=String(i).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,s,r=0,a=0,l="";s=e.charAt(a++);~s&&(t=r%4?64*t+s:s,r++%4)?l+=String.fromCharCode(255&t>>(-2*r&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return l}:atob;const an="pb_auth";class Ni{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!is(this.token)}get isSuperuser(){let e=vt(this.token);return e.type=="auth"&&(this.record?.collectionName=="_superusers"||!this.record?.collectionName&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),vt(this.token).type=="auth"&&!this.isSuperuser}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=an){const s=Jr(e||"")[t]||"";let r={};try{r=JSON.parse(s),(typeof r===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.record||r.model||null)}exportToCookie(e,t=an){const s={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=vt(this.token);s.expires=r?.exp?new Date(1e3*r.exp):new Date("1970-01-01"),e=Object.assign({},s,e);const a={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let l=on(t,JSON.stringify(a),e);const u=typeof Blob<"u"?new Blob([l]).size:l.length;if(a.record&&u>4096){a.record={id:a.record?.id,email:a.record?.email};const d=["collectionId","collectionName","verified"];for(const f in this.record)d.includes(f)&&(a.record[f]=this.record[f]);l=on(t,JSON.stringify(a),e)}return l}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let s=this._onChangeCallbacks.length-1;s>=0;s--)if(this._onChangeCallbacks[s]==e)return delete this._onChangeCallbacks[s],void this._onChangeCallbacks.splice(s,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class to extends Ni{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&window?.localStorage){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&window?.localStorage){let s=t;typeof t!="string"&&(s=JSON.stringify(t)),window.localStorage.setItem(e,s)}else this.storageFallback[e]=t}_storageRemove(e){typeof window<"u"&&window?.localStorage&&window.localStorage?.removeItem(e),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&window?.localStorage&&window.addEventListener&&window.addEventListener("storage",(e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.record||t.model||null)}))}}class Ye{constructor(e){this.client=e}}class io extends Ye{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then((()=>!0))}async testEmail(e,t,s,r){return r=Object.assign({method:"POST",body:{email:t,template:s,collection:e}},r),this.client.send("/api/settings/test/email",r).then((()=>!0))}async generateAppleClientSecret(e,t,s,r,a,l){return l=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:s,privateKey:r,duration:a}},l),this.client.send("/api/settings/apple/generate-client-secret",l)}}const no=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Mi(i){if(i){i.query=i.query||{};for(let e in i)no.includes(e)||(i.query[e]=i[e],delete i[e])}}function ns(i){const e=[];for(const t in i){const s=encodeURIComponent(t),r=Array.isArray(i[t])?i[t]:[i[t]];for(let a of r)a=so(a),a!==null&&e.push(s+"="+a)}return e.join("&")}function so(i){return i==null?null:i instanceof Date?encodeURIComponent(i.toISOString().replace("T"," ")):encodeURIComponent(typeof i=="object"?JSON.stringify(i):i)}class ss extends Ye{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,s){if(!e)throw new Error("topic must be set.");let r=e;if(s){Mi(s=Object.assign({},s));const l="options="+encodeURIComponent(JSON.stringify({query:s.query,headers:s.headers}));r+=(r.includes("?")?"&":"?")+l}const a=function(l){const u=l;let d;try{d=JSON.parse(u?.data)}catch{}t(d||{})};return this.subscriptions[r]||(this.subscriptions[r]=[]),this.subscriptions[r].push(a),this.isConnected?this.subscriptions[r].length===1?await this.submitSubscriptions():this.eventSource?.addEventListener(r,a):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,a)}async unsubscribe(e){let t=!1;if(e){const s=this.getSubscriptionsByTopic(e);for(let r in s)if(this.hasSubscriptionListeners(r)){for(let a of this.subscriptions[r])this.eventSource?.removeEventListener(r,a);delete this.subscriptions[r],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){let t=!1;for(let s in this.subscriptions)if((s+"?").startsWith(e)){t=!0;for(let r of this.subscriptions[s])this.eventSource?.removeEventListener(s,r);delete this.subscriptions[s]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){let s=!1;const r=this.getSubscriptionsByTopic(e);for(let a in r){if(!Array.isArray(this.subscriptions[a])||!this.subscriptions[a].length)continue;let l=!1;for(let u=this.subscriptions[a].length-1;u>=0;u--)this.subscriptions[a][u]===t&&(l=!0,delete this.subscriptions[a][u],this.subscriptions[a].splice(u,1),this.eventSource?.removeEventListener(a,t));l&&(this.subscriptions[a].length||delete this.subscriptions[a],s||this.hasSubscriptionListeners(a)||(s=!0))}this.hasSubscriptionListeners()?s&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){if(this.subscriptions=this.subscriptions||{},e)return!!this.subscriptions[e]?.length;for(let t in this.subscriptions)if(this.subscriptions[t]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch((e=>{if(!e?.isAbort)throw e}))}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let s in this.subscriptions)(s+"?").startsWith(e)&&(t[s]=this.subscriptions[s]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise(((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",(e=>{const t=e;this.clientId=t?.lastEventId,this.submitSubscriptions().then((async()=>{let s=3;for(;this.hasUnsentSubscriptions()&&s>0;)s--,await this.submitSubscriptions()})).then((()=>{for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const s=this.getSubscriptionsByTopic("PB_CONNECT");for(let r in s)for(let a of s[r])a(e)})).catch((s=>{this.clientId="",this.connectErrorHandler(s)}))}))}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let s of this.pendingConnects)s.reject(new me(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),t)}disconnect(e=!1){if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[]}}}class rs extends Ye{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let s=500;return(t=Object.assign({},e,t)).batch&&(s=t.batch,delete t.batch),this._getFullList(s,t)}async getList(e=1,t=30,s){return(s=Object.assign({method:"GET"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send(this.baseCrudPath,s).then((r=>(r.items=r.items?.map((a=>this.decode(a)))||[],r)))}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then((s=>{if(!s?.items?.length)throw new me({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return s.items[0]}))}async getOne(e,t){if(!e)throw new me({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((s=>this.decode(s)))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then((s=>this.decode(s)))}async update(e,t,s){return s=Object.assign({method:"PATCH",body:t},s),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),s).then((r=>this.decode(r)))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((()=>!0))}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let s=[],r=async a=>this.getList(a,e||500,t).then((l=>{const u=l.items;return s=s.concat(u),u.length==l.perPage?r(a+1):s}));return r(1)}}function Ve(i,e,t,s){const r=s!==void 0;return r||t!==void 0?r?(console.warn(i),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,s),e):Object.assign(e,t):e}function fi(i){i._resetAutoRefresh?.()}class ro extends rs{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,t,s){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,s)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const s=Object.assign({},e,t);return super.getFullList(s)}async getList(e=1,t=30,s){return super.getList(e,t,s)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,s){return super.update(e,t,s).then((r=>{if(this.client.authStore.record?.id===r?.id&&(this.client.authStore.record?.collectionId===this.collectionIdOrName||this.client.authStore.record?.collectionName===this.collectionIdOrName)){let a=Object.assign({},this.client.authStore.record.expand),l=Object.assign({},this.client.authStore.record,r);a&&(l.expand=Object.assign(a,r.expand)),this.client.authStore.save(this.client.authStore.token,l)}return r}))}async delete(e,t){return super.delete(e,t).then((s=>(!s||this.client.authStore.record?.id!==e||this.client.authStore.record?.collectionId!==this.collectionIdOrName&&this.client.authStore.record?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),s)))}authResponse(e){const t=this.decode(e?.record||{});return this.client.authStore.save(e?.token,t),Object.assign({},e,{token:e?.token||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,t,s){let r;s=Object.assign({method:"POST",body:{identity:e,password:t}},s),this.isSuperusers&&(r=s.autoRefreshThreshold,delete s.autoRefreshThreshold,s.autoRefresh||fi(this.client));let a=await this.client.send(this.baseCollectionPath+"/auth-with-password",s);return a=this.authResponse(a),r&&this.isSuperusers&&(function(u,d,f,x){fi(u);const _=u.beforeSend,g=u.authStore.record,b=u.authStore.onChange(((w,S)=>{(!w||S?.id!=g?.id||(S?.collectionId||g?.collectionId)&&S?.collectionId!=g?.collectionId)&&fi(u)}));u._resetAutoRefresh=function(){b(),u.beforeSend=_,delete u._resetAutoRefresh},u.beforeSend=async(w,S)=>{const T=u.authStore.token;if(S.query?.autoRefresh)return _?_(w,S):{url:w,sendOptions:S};let k=u.authStore.isValid;if(k&&is(u.authStore.token,d))try{await f()}catch{k=!1}k||await x();const P=S.headers||{};for(let A in P)if(A.toLowerCase()=="authorization"&&T==P[A]&&u.authStore.token){P[A]=u.authStore.token;break}return S.headers=P,_?_(w,S):{url:w,sendOptions:S}}})(this.client,r,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},s)))),a}async authWithOAuth2Code(e,t,s,r,a,l,u){let d={method:"POST",body:{provider:e,code:t,codeVerifier:s,redirectURL:r,createData:a}};return d=Ve("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",d,l,u),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",d).then((f=>this.authResponse(f)))}authWithOAuth2(...e){if(e.length>1||typeof e?.[0]=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code(e?.[0]||"",e?.[1]||"",e?.[2]||"",e?.[3]||"",e?.[4]||{},e?.[5]||{},e?.[6]||{});const t=e?.[0]||{};let s=null;t.urlCallback||(s=ln(void 0));const r=new ss(this.client);function a(){s?.close(),r.unsubscribe()}const l={},u=t.requestKey;return u&&(l.requestKey=u),this.listAuthMethods(l).then((d=>{const f=d.oauth2.providers.find((g=>g.name===t.provider));if(!f)throw new me(new Error(`Missing or invalid provider "${t.provider}".`));const x=this.client.buildURL("/api/oauth2-redirect"),_=u?this.client.cancelControllers?.[u]:void 0;return _&&(_.signal.onabort=()=>{a()}),new Promise((async(g,b)=>{try{await r.subscribe("@oauth2",(async k=>{const P=r.clientId;try{if(!k.state||P!==k.state)throw new Error("State parameters don't match.");if(k.error||!k.code)throw new Error("OAuth2 redirect error or missing code: "+k.error);const A=Object.assign({},t);delete A.provider,delete A.scopes,delete A.createData,delete A.urlCallback,_?.signal?.onabort&&(_.signal.onabort=null);const U=await this.authWithOAuth2Code(f.name,k.code,f.codeVerifier,x,t.createData,A);g(U)}catch(A){b(new me(A))}a()}));const w={state:r.clientId};t.scopes?.length&&(w.scope=t.scopes.join(" "));const S=this._replaceQueryParams(f.authURL+x,w);await(t.urlCallback||function(k){s?s.location.href=k:s=ln(k)})(S)}catch(w){a(),b(new me(w))}}))})).catch((d=>{throw a(),d}))}async authRefresh(e,t){let s={method:"POST"};return s=Ve("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",s,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",s).then((r=>this.authResponse(r)))}async requestPasswordReset(e,t,s){let r={method:"POST",body:{email:e}};return r=Ve("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,s),this.client.send(this.baseCollectionPath+"/request-password-reset",r).then((()=>!0))}async confirmPasswordReset(e,t,s,r,a){let l={method:"POST",body:{token:e,password:t,passwordConfirm:s}};return l=Ve("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",l,r,a),this.client.send(this.baseCollectionPath+"/confirm-password-reset",l).then((()=>!0))}async requestVerification(e,t,s){let r={method:"POST",body:{email:e}};return r=Ve("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",r,t,s),this.client.send(this.baseCollectionPath+"/request-verification",r).then((()=>!0))}async confirmVerification(e,t,s){let r={method:"POST",body:{token:e}};return r=Ve("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",r,t,s),this.client.send(this.baseCollectionPath+"/confirm-verification",r).then((()=>{const a=vt(e),l=this.client.authStore.record;return l&&!l.verified&&l.id===a.id&&l.collectionId===a.collectionId&&(l.verified=!0,this.client.authStore.save(this.client.authStore.token,l)),!0}))}async requestEmailChange(e,t,s){let r={method:"POST",body:{newEmail:e}};return r=Ve("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",r,t,s),this.client.send(this.baseCollectionPath+"/request-email-change",r).then((()=>!0))}async confirmEmailChange(e,t,s,r){let a={method:"POST",body:{token:e,password:t}};return a=Ve("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",a,s,r),this.client.send(this.baseCollectionPath+"/confirm-email-change",a).then((()=>{const l=vt(e),u=this.client.authStore.record;return u&&u.id===l.id&&u.collectionId===l.collectionId&&this.client.authStore.clear(),!0}))}async listExternalAuths(e,t){return this.client.collection("_externalAuths").getFullList(Object.assign({},t,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,t,s){const r=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:t}));return this.client.collection("_externalAuths").delete(r.id,s).then((()=>!0))}async requestOTP(e,t){return t=Object.assign({method:"POST",body:{email:e}},t),this.client.send(this.baseCollectionPath+"/request-otp",t)}async authWithOTP(e,t,s){return s=Object.assign({method:"POST",body:{otpId:e,password:t}},s),this.client.send(this.baseCollectionPath+"/auth-with-otp",s).then((r=>this.authResponse(r)))}async impersonate(e,t,s){(s=Object.assign({method:"POST",body:{duration:t}},s)).headers=s.headers||{},s.headers.Authorization||(s.headers.Authorization=this.client.authStore.token);const r=new os(this.client.baseURL,new Ni,this.client.lang),a=await r.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),s);return r.authStore.save(a?.token,this.decode(a?.record||{})),r}_replaceQueryParams(e,t={}){let s=e,r="";e.indexOf("?")>=0&&(s=e.substring(0,e.indexOf("?")),r=e.substring(e.indexOf("?")+1));const a={},l=r.split("&");for(const u of l){if(u=="")continue;const d=u.split("=");a[decodeURIComponent(d[0].replace(/\+/g," "))]=decodeURIComponent((d[1]||"").replace(/\+/g," "))}for(let u in t)t.hasOwnProperty(u)&&(t[u]==null?delete a[u]:a[u]=t[u]);r="";for(let u in a)a.hasOwnProperty(u)&&(r!=""&&(r+="&"),r+=encodeURIComponent(u.replace(/%20/g,"+"))+"="+encodeURIComponent(a[u].replace(/%20/g,"+")));return r!=""?s+"?"+r:s}}function ln(i){if(typeof window>"u"||!window?.open)throw new me(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,s=window.innerWidth,r=window.innerHeight;e=e>s?s:e,t=t>r?r:t;let a=s/2-e/2,l=r/2-t/2;return window.open(i,"popup_window","width="+e+",height="+t+",top="+l+",left="+a+",resizable,menubar=no")}class oo extends rs{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,s){return s=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},s),this.client.send(this.baseCrudPath+"/import",s).then((()=>!0))}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",t).then((()=>!0))}}class ao extends Ye{async getList(e=1,t=30,s){return(s=Object.assign({method:"GET"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send("/api/logs",s)}async getOne(e,t){if(!e)throw new me({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class lo extends Ye{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class co extends Ye{getUrl(e,t,s={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,t,s)}getURL(e,t,s={}){if(!t||!e?.id||!e?.collectionId&&!e?.collectionName)return"";const r=[];r.push("api"),r.push("files"),r.push(encodeURIComponent(e.collectionId||e.collectionName)),r.push(encodeURIComponent(e.id)),r.push(encodeURIComponent(t));let a=this.client.buildURL(r.join("/"));if(Object.keys(s).length){s.download===!1&&delete s.download;const l=new URLSearchParams(s);a+=(a.includes("?")?"&":"?")+l}return a}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then((t=>t?.token||""))}}class uo extends Ye{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then((()=>!0))}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then((()=>!0))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then((()=>!0))}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then((()=>!0))}getDownloadUrl(e,t){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class ho extends Ye{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/crons",e)}async run(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/crons/${encodeURIComponent(e)}`,t).then((()=>!0))}}function Si(i){return typeof Blob<"u"&&i instanceof Blob||typeof File<"u"&&i instanceof File||i!==null&&typeof i=="object"&&i.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function xi(i){return i&&(i.constructor?.name==="FormData"||typeof FormData<"u"&&i instanceof FormData)}function cn(i){for(const e in i){const t=Array.isArray(i[e])?i[e]:[i[e]];for(const s of t)if(Si(s))return!0}return!1}const fo=/^[\-\.\d]+$/;function un(i){if(typeof i!="string")return i;if(i=="true")return!0;if(i=="false")return!1;if((i[0]==="-"||i[0]>="0"&&i[0]<="9")&&fo.test(i)){let e=+i;if(""+e===i)return e}return i}class po extends Ye{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new go(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,s=[];for(let r=0;r<this.requests.length;r++){const a=this.requests[r];if(s.push({method:a.method,url:a.url,headers:a.headers,body:a.json}),a.files)for(let l in a.files){const u=a.files[l]||[];for(let d of u)t.append("requests."+r+"."+l,d)}}return t.append("@jsonPayload",JSON.stringify({requests:s})),e=Object.assign({method:"POST",body:t},e),this.client.send("/api/batch",e)}}class go{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const s={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(s,t),this.requests.push(s)}create(e,t){t=Object.assign({body:e||{}},t);const s={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(s,t),this.requests.push(s)}update(e,t,s){s=Object.assign({body:t||{}},s);const r={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(r,s),this.requests.push(r)}delete(e,t){t=Object.assign({},t);const s={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(s,t),this.requests.push(s)}prepareRequest(e,t){if(Mi(t),e.headers=t.headers,e.json={},e.files={},t.query!==void 0){const r=ns(t.query);r&&(e.url+=(e.url.includes("?")?"&":"?")+r)}let s=t.body;xi(s)&&(s=(function(a){let l={};return a.forEach(((u,d)=>{if(d==="@jsonPayload"&&typeof u=="string")try{let f=JSON.parse(u);Object.assign(l,f)}catch(f){console.warn("@jsonPayload error:",f)}else l[d]!==void 0?(Array.isArray(l[d])||(l[d]=[l[d]]),l[d].push(un(u))):l[d]=un(u)})),l})(s));for(const r in s){const a=s[r];if(Si(a))e.files[r]=e.files[r]||[],e.files[r].push(a);else if(Array.isArray(a)){const l=[],u=[];for(const d of a)Si(d)?l.push(d):u.push(d);if(l.length>0&&l.length==a.length){e.files[r]=e.files[r]||[];for(let d of l)e.files[r].push(d)}else if(e.json[r]=u,l.length>0){let d=r;r.startsWith("+")||r.endsWith("+")||(d+="+"),e.files[d]=e.files[d]||[];for(let f of l)e.files[d].push(f)}}else e.json[r]=a}}}class os{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",t,s="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=s,t?this.authStore=t:typeof window<"u"&&window.Deno?this.authStore=new Ni:this.authStore=new to,this.collections=new oo(this),this.files=new co(this),this.logs=new ao(this),this.settings=new io(this),this.realtime=new ss(this),this.health=new lo(this),this.backups=new uo(this),this.crons=new ho(this)}get admins(){return this.collection("_superusers")}createBatch(){return new po(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new ro(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let s in t){let r=t[s];switch(typeof r){case"boolean":case"number":r=""+r;break;case"string":r="'"+r.replace(/'/g,"\\'")+"'";break;default:r=r===null?"null":r instanceof Date?"'"+r.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(r).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+s+"}",r)}return e}getFileUrl(e,t,s={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,t,s)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){let t=this.baseURL;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=window.location.origin?.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseURL),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let s=this.buildURL(e);if(this.beforeSend){const r=Object.assign({},await this.beforeSend(s,t));r.url!==void 0||r.options!==void 0?(s=r.url||s,t=r.options||t):Object.keys(r).length&&(t=r,console?.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const r=ns(t.query);r&&(s+=(s.includes("?")?"&":"?")+r),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(s,t).then((async r=>{let a={};try{a=await r.json()}catch{}if(this.afterSend&&(a=await this.afterSend(r,a,t)),r.status>=400)throw new me({url:r.url,status:r.status,data:a});return a})).catch((r=>{throw new me(r)}))}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=(function(r){if(typeof FormData>"u"||r===void 0||typeof r!="object"||r===null||xi(r)||!cn(r))return r;const a=new FormData;for(const l in r){const u=r[l];if(u!==void 0)if(typeof u!="object"||cn({data:u})){const d=Array.isArray(u)?u:[u];for(let f of d)a.append(l,f)}else{let d={};d[l]=u,a.append("@jsonPayload",JSON.stringify(d))}}return a})(t.body),Mi(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||xi(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const s=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(s);const r=new AbortController;this.cancelControllers[s]=r,t.signal=r.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let s in e)if(s.toLowerCase()==t)return e[s];return null}}const De=new os("http://localhost:8090"),as=Xr(De.authStore.model);De.authStore.onChange((i,e)=>{as.set(e)});var vo=ye('<div class="error"> </div>'),mo=ye('<main><h1 style="text-align: center; margin-bottom: 2rem;">Login</h1> <form><label>Email <input type="email" name="email" autocomplete="email" required/></label> <label>Password <input type="password" name="password" autocomplete="current-password" required/></label> <!> <button type="submit"> </button> <p style="margin-top: 1rem;">No account? <a href="#/signup">Sign up</a></p></form></main>');function yo(i,e){St(e,!1);let t=Q(""),s=Q(""),r=Q(""),a=Q(!1);async function l(){z(r,""),z(a,!0);try{await De.collection("users").authWithPassword(L(t),L(s)),window.location.hash="#/library"}catch(k){z(r,k.message)}finally{z(a,!1)}}Ft();var u=mo(),d=V(X(u),2),f=X(d),x=V(X(f)),_=V(f,2),g=V(X(_)),b=V(_,2);{var w=k=>{var P=vo(),A=X(P);rt(()=>wt(A,L(r))),Z(k,P)};Le(b,k=>{L(r)&&k(w)})}var S=V(b,2),T=X(S);rt(()=>{S.disabled=L(a),wt(T,L(a)?"Loading...":"Login")}),dt(x,()=>L(t),k=>z(t,k)),dt(g,()=>L(s),k=>z(s,k)),Ke("submit",d,Zn(l)),Z(i,u),xt()}var bo=ye('<div class="error"> </div>'),wo=ye('<main><h1 style="text-align: center; margin-bottom: 2rem;">Sign Up</h1> <form><label>Email <input type="email" name="email" autocomplete="email" required/></label> <label>Username <input type="text" name="username" autocomplete="username" required/></label> <label>Password <input type="password" name="password" autocomplete="new-password" required/></label> <label>Confirm Password <input type="password" name="password-confirm" autocomplete="new-password" required/></label> <!> <button type="submit"> </button> <p style="margin-top: 1rem;">Have an account? <a href="#/login">Login</a></p></form></main>');function _o(i,e){St(e,!1);let t=Q(""),s=Q(""),r=Q(""),a=Q(""),l=Q(""),u=Q(!1);async function d(){z(l,""),z(u,!0);try{await De.collection("users").create({email:L(t),username:L(s),password:L(r),passwordConfirm:L(a)}),await De.collection("users").authWithPassword(L(t),L(r)),window.location.hash="#/library"}catch(B){z(l,B.message)}finally{z(u,!1)}}Ft();var f=wo(),x=V(X(f),2),_=X(x),g=V(X(_)),b=V(_,2),w=V(X(b)),S=V(b,2),T=V(X(S)),k=V(S,2),P=V(X(k)),A=V(k,2);{var U=B=>{var J=bo(),H=X(J);rt(()=>wt(H,L(l))),Z(B,J)};Le(A,B=>{L(l)&&B(U)})}var Y=V(A,2),ee=X(Y);rt(()=>{Y.disabled=L(u),wt(ee,L(u)?"Creating account...":"Sign Up")}),dt(g,()=>L(t),B=>z(t,B)),dt(w,()=>L(s),B=>z(s,B)),dt(T,()=>L(r),B=>z(r,B)),dt(P,()=>L(a),B=>z(a,B)),Ke("submit",x,Zn(d)),Z(i,f),xt()}var So=ye('<button class="hamburger" aria-label="Menu"><span></span> <span></span> <span></span></button>'),xo=ye('<div class="menu-overlay" role="button" tabindex="0"></div> <nav><div class="menu-header"><span class="menu-user"> </span> <button class="menu-close">Ã</button></div> <ul class="menu-list"><li><a href="#/library">Library</a></li> <li><button>Logout</button></li></ul></nav>',1),Co=ye('<header class="header"><div class="header-content"><a href="#/library" class="logo">Unlost</a> <!></div></header> <!>',1);function Eo(i,e){St(e,!1);const t=()=>Vr(as,"$currentUser",s),[s,r]=Kr();let a=Q(!1);function l(){z(a,!L(a))}function u(){De.authStore.clear(),z(a,!1),window.location.hash="#/login"}Ft();var d=Co(),f=Qe(d),x=X(f),_=V(X(x),2);{var g=S=>{var T=So();Ke("click",T,l),Z(S,T)};Le(_,S=>{t()&&S(g)})}var b=V(f,2);{var w=S=>{var T=xo(),k=Qe(T),P=V(k,2);let A;var U=X(P),Y=X(U),ee=X(Y),B=V(Y,2),J=V(U,2),H=X(J),M=X(H),Se=V(H,2),oe=X(Se);rt(()=>{A=zr(P,1,"menu",null,A,{"menu-open":L(a)}),wt(ee,t().username)}),Ke("click",k,l),Ke("keydown",k,at=>at.key==="Escape"&&l()),Ke("click",B,l),Ke("click",M,l),Ke("click",oe,u),Z(S,T)};Le(b,S=>{t()&&L(a)&&S(w)})}Z(i,d),xt(),r()}function To(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Jt={exports:{}},ko=Jt.exports,hn;function Oo(){return hn||(hn=1,(function(i,e){(function(t,s){i.exports=s()})(ko,(function(){function t(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function s(n,o){for(var c=0;c<o.length;c++){var h=o[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(n,a(h.key),h)}}function r(n,o,c){return o&&s(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function a(n){var o=(function(c,h){if(typeof c!="object"||!c)return c;var p=c[Symbol.toPrimitive];if(p!==void 0){var m=p.call(c,h);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)})(n,"string");return typeof o=="symbol"?o:o+""}function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}var u=Date.now();function d(){var n={},o=!0,c=0,h=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(o=arguments[0],c++);for(var p=function(v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(o&&Object.prototype.toString.call(v[y])==="[object Object]"?n[y]=d(!0,n[y],v[y]):n[y]=v[y])};c<h;c++){var m=arguments[c];p(m)}return n}function f(n,o){if((oe(n)||n===window||n===document)&&(n=[n]),Bt(n)||We(n)||(n=[n]),ji(n)!=0){if(Bt(n)&&!We(n))for(var c=n.length,h=0;h<c&&o.call(n[h],n[h],h,n)!==!1;h++);else if(We(n)){for(var p in n)if(G(n,p)&&o.call(n[p],n[p],p,n)===!1)break}}}function x(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,h=n[u]=n[u]||[],p={all:h,evt:null,found:null};return o&&c&&ji(h)>0&&f(h,(function(m,v){if(m.eventName==o&&m.fn.toString()==c.toString())return p.found=!0,p.evt=v,!1})),p}function _(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.onElement,h=o.withCallback,p=o.avoidDuplicate,m=p===void 0||p,v=o.once,y=v!==void 0&&v,E=o.useCapture,C=E!==void 0&&E,O=arguments.length>2?arguments[2]:void 0,I=c||[];function q(R){M(h)&&h.call(O,R,this),y&&q.destroy()}return Se(I)&&(I=document.querySelectorAll(I)),q.destroy=function(){f(I,(function(R){var j=x(R,n,q);j.found&&j.all.splice(j.evt,1),R.removeEventListener&&R.removeEventListener(n,q,C)}))},f(I,(function(R){var j=x(R,n,q);(R.addEventListener&&m&&!j.found||!m)&&(R.addEventListener(n,q,C),j.all.push({eventName:n,fn:q}))})),q}function g(n,o){f(o.split(" "),(function(c){return n.classList.add(c)}))}function b(n,o){f(o.split(" "),(function(c){return n.classList.remove(c)}))}function w(n,o){return n.classList.contains(o)}function S(n,o){for(;n!==document.body;){if(!(n=n.parentElement))return!1;if(typeof n.matches=="function"?n.matches(o):n.msMatchesSelector(o))return n}}function T(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!n||o==="")return!1;if(o==="none")return M(c)&&c(),!1;var h=ee(),p=o.split(" ");f(p,(function(m){g(n,"g"+m)})),_(h,{onElement:n,avoidDuplicate:!1,once:!0,withCallback:function(m,v){f(p,(function(y){b(v,"g"+y)})),M(c)&&c()}})}function k(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(o==="")return n.style.webkitTransform="",n.style.MozTransform="",n.style.msTransform="",n.style.OTransform="",n.style.transform="",!1;n.style.webkitTransform=o,n.style.MozTransform=o,n.style.msTransform=o,n.style.OTransform=o,n.style.transform=o}function P(n){n.style.display="block"}function A(n){n.style.display="none"}function U(n){var o=document.createDocumentFragment(),c=document.createElement("div");for(c.innerHTML=n;c.firstChild;)o.appendChild(c.firstChild);return o}function Y(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function ee(){var n,o=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(n in c)if(o.style[n]!==void 0)return c[n]}function B(n,o,c,h){if(n())o();else{var p;c||(c=100);var m=setInterval((function(){n()&&(clearInterval(m),p&&clearTimeout(p),o())}),c)}}function J(n,o,c){if(fe(n))console.error("Inject assets error");else if(M(o)&&(c=o,o=!1),Se(o)&&o in window)M(c)&&c();else{var h;if(n.indexOf(".css")!==-1){if((h=document.querySelectorAll('link[href="'+n+'"]'))&&h.length>0)return void(M(c)&&c());var p=document.getElementsByTagName("head")[0],m=p.querySelectorAll('link[rel="stylesheet"]'),v=document.createElement("link");return v.rel="stylesheet",v.type="text/css",v.href=n,v.media="all",m?p.insertBefore(v,m[0]):p.appendChild(v),void(M(c)&&c())}if((h=document.querySelectorAll('script[src="'+n+'"]'))&&h.length>0){if(M(c)){if(Se(o))return B((function(){return window[o]!==void 0}),(function(){c()})),!1;c()}}else{var y=document.createElement("script");y.type="text/javascript",y.src=n,y.onload=function(){if(M(c)){if(Se(o))return B((function(){return window[o]!==void 0}),(function(){c()})),!1;c()}},document.body.appendChild(y)}}}function H(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function M(n){return typeof n=="function"}function Se(n){return typeof n=="string"}function oe(n){return!(!n||!n.nodeType||n.nodeType!=1)}function at(n){return Array.isArray(n)}function Bt(n){return n&&n.length&&isFinite(n.length)}function We(n){return l(n)==="object"&&n!=null&&!M(n)&&!at(n)}function fe(n){return n==null}function G(n,o){return n!==null&&hasOwnProperty.call(n,o)}function ji(n){if(We(n)){if(n.keys)return n.keys().length;var o=0;for(var c in n)G(n,c)&&o++;return o}return n.length}function Yt(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Di(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,o=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!o.length)return!1;if(o.length==1)return o[0];typeof n=="string"&&(n=parseInt(n));var c=[];f(o,(function(y){c.push(y.getAttribute("data-taborder"))}));var h=Math.max.apply(Math,c.map((function(y){return parseInt(y)}))),p=n<0?1:n+1;p>h&&(p="1");var m=c.filter((function(y){return y>=parseInt(p)})),v=m.sort()[0];return document.querySelector('.gbtn[data-taborder="'.concat(v,'"]'))}function ls(n){if(n.events.hasOwnProperty("keyboard"))return!1;n.events.keyboard=_("keydown",{onElement:window,withCallback:function(o,c){var h=(o=o||window.event).keyCode;if(h==9){var p=document.querySelector(".gbtn.focused");if(!p){var m=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if(m=="input"||m=="textarea"||m=="button")return}o.preventDefault();var v=document.querySelectorAll(".gbtn[data-taborder]");if(!v||v.length<=0)return;if(!p){var y=Di();return void(y&&(y.focus(),g(y,"focused")))}var E=Di(p.getAttribute("data-taborder"));b(p,"focused"),E&&(E.focus(),g(E,"focused"))}h==39&&n.nextSlide(),h==37&&n.prevSlide(),h==27&&n.close()}})}var cs=r((function n(o,c){var h=this,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(t(this,n),this.img=o,this.slide=c,this.onclose=p,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",(function(m){return h.dragStart(m)}),!1),this.img.addEventListener("mouseup",(function(m){return h.dragEnd(m)}),!1),this.img.addEventListener("mousemove",(function(m){return h.drag(m)}),!1),this.img.addEventListener("click",(function(m){return h.slide.classList.contains("dragging-nav")?(h.zoomOut(),!1):h.zoomedIn?void(h.zoomedIn&&!h.dragging&&h.zoomOut()):h.zoomIn()}),!1),this.img.setZoomEvents=!0}),[{key:"zoomIn",value:function(){var n=this.widowWidth();if(!(this.zoomedIn||n<=768)){var o=this.img;if(o.setAttribute("data-style",o.getAttribute("style")),o.style.maxWidth=o.naturalWidth+"px",o.style.maxHeight=o.naturalHeight+"px",o.naturalWidth>n){var c=n/2-o.naturalWidth/2;this.setTranslate(this.img.parentNode,c,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&typeof this.onclose=="function"&&this.onclose()}},{key:"dragStart",value:function(n){n.preventDefault(),this.zoomedIn?(n.type==="touchstart"?(this.initialX=n.touches[0].clientX-this.xOffset,this.initialY=n.touches[0].clientY-this.yOffset):(this.initialX=n.clientX-this.xOffset,this.initialY=n.clientY-this.yOffset),n.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(n){var o=this;n.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout((function(){o.dragging=!1,o.img.isDragging=!1,o.img.classList.remove("dragging")}),100)}},{key:"drag",value:function(n){this.active&&(n.preventDefault(),n.type==="touchmove"?(this.currentX=n.touches[0].clientX-this.initialX,this.currentY=n.touches[0].clientY-this.initialY):(this.currentX=n.clientX-this.initialX,this.currentY=n.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(n){if(this.zoomedIn){var o=n.clientX-this.img.naturalWidth/2,c=n.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,o,c)}}},{key:"setTranslate",value:function(n,o,c){n.style.transform="translate3d("+o+"px, "+c+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),Ui=r((function n(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,n);var h=c.dragEl,p=c.toleranceX,m=p===void 0?40:p,v=c.toleranceY,y=v===void 0?65:v,E=c.slide,C=E===void 0?null:E,O=c.instance,I=O===void 0?null:O;this.el=h,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=m,this.toleranceY=y,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=C,this.instance=I,this.el.addEventListener("mousedown",(function(q){return o.dragStart(q)}),!1),this.el.addEventListener("mouseup",(function(q){return o.dragEnd(q)}),!1),this.el.addEventListener("mousemove",(function(q){return o.drag(q)}),!1)}),[{key:"dragStart",value:function(n){if(this.slide.classList.contains("zoomed"))this.active=!1;else{n.type==="touchstart"?(this.initialX=n.touches[0].clientX-this.xOffset,this.initialY=n.touches[0].clientY-this.yOffset):(this.initialX=n.clientX-this.xOffset,this.initialY=n.clientY-this.yOffset);var o=n.target.nodeName.toLowerCase();n.target.classList.contains("nodrag")||S(n.target,".nodrag")||["input","select","textarea","button","a"].indexOf(o)!==-1?this.active=!1:(n.preventDefault(),(n.target===this.el||o!=="img"&&S(n.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=S(n.target,".ginner-container")))}}},{key:"dragEnd",value:function(n){var o=this;n&&n.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,this.doSlideChange=="right"&&this.instance.prevSlide(),this.doSlideChange=="left"&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout((function(){o.instance.preventOutsideClick=!1,o.toleranceReached=!1,o.lastDirection=null,o.dragging=!1,o.el.isDragging=!1,o.el.classList.remove("dragging"),o.slide.classList.remove("dragging-nav"),o.dragContainer.style.transform="",o.dragContainer.style.transition=""}),100)}},{key:"drag",value:function(n){if(this.active){n.preventDefault(),this.slide.classList.add("dragging-nav"),n.type==="touchmove"?(this.currentX=n.touches[0].clientX-this.initialX,this.currentY=n.touches[0].clientY-this.initialY):(this.currentX=n.clientX-this.initialX,this.currentY=n.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var o=Math.abs(this.currentX),c=Math.abs(this.currentY);if(o>0&&o>=Math.abs(this.currentY)&&(!this.lastDirection||this.lastDirection=="x")){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var h=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&h&&(this.doSlideChange=h),this.instance.settings.dragAutoSnap&&h)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),h=="right"&&this.instance.prevSlide(),void(h=="left"&&this.instance.nextSlide())}if(this.toleranceY>0&&c>0&&c>=o&&(!this.lastDirection||this.lastDirection=="y")){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var p=this.shouldClose();return!this.instance.settings.dragAutoSnap&&p&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&p&&this.instance.close())}}}},{key:"shouldChange",value:function(){var n=!1;if(Math.abs(this.currentX)>=this.toleranceX){var o=this.currentX>0?"right":"left";(o=="left"&&this.slide!==this.slide.parentNode.lastChild||o=="right"&&this.slide!==this.slide.parentNode.firstChild)&&(n=o)}return n}},{key:"shouldClose",value:function(){var n=!1;return Math.abs(this.currentY)>=this.toleranceY&&(n=!0),n}},{key:"setTranslate",value:function(n,o,c){var h=arguments.length>3&&arguments[3]!==void 0&&arguments[3];n.style.transition=h?"all .2s ease":"",n.style.transform="translate3d(".concat(o,"px, ").concat(c,"px, 0)")}}]);function us(n,o,c,h){var p=n.querySelector(".gslide-media"),m=new Image,v="gSlideTitle_"+c,y="gSlideDesc_"+c;m.addEventListener("load",(function(){M(h)&&h()}),!1),m.src=o.href,o.sizes!=""&&o.srcset!=""&&(m.sizes=o.sizes,m.srcset=o.srcset),m.alt="",fe(o.alt)||o.alt===""||(m.alt=o.alt),o.title!==""&&m.setAttribute("aria-labelledby",v),o.description!==""&&m.setAttribute("aria-describedby",y),o.hasOwnProperty("_hasCustomWidth")&&o._hasCustomWidth&&(m.style.width=o.width),o.hasOwnProperty("_hasCustomHeight")&&o._hasCustomHeight&&(m.style.height=o.height),p.insertBefore(m,p.firstChild)}function hs(n,o,c,h){var p=this,m=n.querySelector(".ginner-container"),v="gvideo"+c,y=n.querySelector(".gslide-media"),E=this.getAllPlayers();g(m,"gvideo-container"),y.insertBefore(U('<div class="gvideo-wrapper"></div>'),y.firstChild);var C=n.querySelector(".gvideo-wrapper");J(this.settings.plyr.css,"Plyr");var O=o.href,I=o?.videoProvider,q=!1;y.style.maxWidth=o.width,J(this.settings.plyr.js,"Plyr",(function(){if(!I&&O.match(/vimeo\.com\/([0-9]*)/)&&(I="vimeo"),!I&&(O.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||O.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||O.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||O.match(/(youtube\.com|youtube-nocookie\.com)\/shorts\/([a-zA-Z0-9\-_]+)/))&&(I="youtube"),I==="local"||!I){I="local";var R='<video id="'+v+'" ';R+='style="background:#000; max-width: '.concat(o.width,';" '),R+='preload="metadata" ',R+='x-webkit-airplay="allow" ',R+="playsinline ",R+="controls ",R+='class="gvideo-local">',R+='<source src="'.concat(O,'">'),q=U(R+="</video>")}var j=q||U('<div id="'.concat(v,'" data-plyr-provider="').concat(I,'" data-plyr-embed-id="').concat(O,'"></div>'));g(C,"".concat(I,"-video gvideo")),C.appendChild(j),C.setAttribute("data-id",v),C.setAttribute("data-index",c);var K=G(p.settings.plyr,"config")?p.settings.plyr.config:{},be=new Plyr("#"+v,K);be.on("ready",(function(pe){E[v]=pe.detail.plyr,M(h)&&h()})),B((function(){return n.querySelector("iframe")&&n.querySelector("iframe").dataset.ready=="true"}),(function(){p.resize(n)})),be.on("enterfullscreen",zi),be.on("exitfullscreen",zi)}))}function zi(n){var o=S(n.target,".gslide-media");n.type==="enterfullscreen"&&g(o,"fullscreen"),n.type==="exitfullscreen"&&b(o,"fullscreen")}function ds(n,o,c,h){var p,m=this,v=n.querySelector(".gslide-media"),y=!(!G(o,"href")||!o.href)&&o.href.split("#").pop().trim(),E=!(!G(o,"content")||!o.content)&&o.content;if(E&&(Se(E)&&(p=U('<div class="ginlined-content">'.concat(E,"</div>"))),oe(E))){E.style.display=="none"&&(E.style.display="block");var C=document.createElement("div");C.className="ginlined-content",C.appendChild(E),p=C}if(y){var O=document.getElementById(y);if(!O)return!1;var I=O.cloneNode(!0);I.style.height=o.height,I.style.maxWidth=o.width,g(I,"ginlined-content"),p=I}if(!p)return console.error("Unable to append inline slide content",o),!1;v.style.height=o.height,v.style.width=o.width,v.appendChild(p),this.events["inlineclose"+y]=_("click",{onElement:v.querySelectorAll(".gtrigger-close"),withCallback:function(q){q.preventDefault(),m.close()}}),M(h)&&h()}function fs(n,o,c,h){var p=n.querySelector(".gslide-media"),m=(function(v){var y=v.url,E=v.allow,C=v.callback,O=v.appendTo,I=document.createElement("iframe");return I.className="vimeo-video gvideo",I.src=y,I.style.width="100%",I.style.height="100%",E&&I.setAttribute("allow",E),I.onload=function(){I.onload=null,g(I,"node-ready"),M(C)&&C()},O&&O.appendChild(I),I})({url:o.href,callback:h});p.parentNode.style.maxWidth=o.width,p.parentNode.style.height=o.height,p.appendChild(m)}var ps=r((function n(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,n),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},We(o)&&(this.defaults=d(this.defaults,o))}),[{key:"sourceType",value:function(n){var o=n;return(n=n.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)!==null?"image":n.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||n.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||n.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||n.match(/(youtube\.com|youtube-nocookie\.com)\/shorts\/([a-zA-Z0-9\-_]+)/)||n.match(/vimeo\.com\/([0-9]*)/)||n.match(/\.(mp4|ogg|webm|mov)/)!==null?"video":n.match(/\.(mp3|wav|wma|aac|ogg)/)!==null?"audio":n.indexOf("#")>-1&&o.split("#").pop().trim()!==""?"inline":n.indexOf("goajax=true")>-1?"ajax":"external"}},{key:"parseConfig",value:function(n,o){var c=this,h=d({descPosition:o.descPosition},this.defaults);if(We(n)&&!oe(n)){G(n,"type")||(G(n,"content")&&n.content?n.type="inline":G(n,"href")&&(n.type=this.sourceType(n.href)));var p=d(h,n);return this.setSize(p,o),p}var m="",v=n.getAttribute("data-glightbox"),y=n.nodeName.toLowerCase();if(y==="a"&&(m=n.href),y==="img"&&(m=n.src,h.alt=n.alt),h.href=m,f(h,(function(R,j){G(o,j)&&j!=="width"&&(h[j]=o[j]);var K=n.dataset[j];fe(K)||(h[j]=c.sanitizeValue(K))})),h.content&&(h.type="inline"),!h.type&&m&&(h.type=this.sourceType(m)),fe(v)){if(!h.title&&y=="a"){var E=n.title;fe(E)||E===""||(h.title=E)}if(!h.title&&y=="img"){var C=n.alt;fe(C)||C===""||(h.title=C)}}else{var O=[];f(h,(function(R,j){O.push(";\\s?"+j)})),O=O.join("\\s?:|"),v.trim()!==""&&f(h,(function(R,j){var K=v,be=new RegExp("s?"+j+"s?:s?(.*?)("+O+"s?:|$)"),pe=K.match(be);if(pe&&pe.length&&pe[1]){var qe=pe[1].trim().replace(/;\s*$/,"");h[j]=c.sanitizeValue(qe)}}))}if(h.description&&h.description.substring(0,1)==="."){var I;try{I=document.querySelector(h.description).innerHTML}catch(R){if(!(R instanceof DOMException))throw R}I&&(h.description=I)}if(!h.description){var q=n.querySelector(".glightbox-desc");q&&(h.description=q.innerHTML)}return this.setSize(h,o,n),this.slideConfig=h,h}},{key:"setSize",value:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,h=n.type=="video"?this.checkSize(o.videosWidth):this.checkSize(o.width),p=this.checkSize(o.height);return n.width=G(n,"width")&&n.width!==""?this.checkSize(n.width):h,n.height=G(n,"height")&&n.height!==""?this.checkSize(n.height):p,c&&n.type=="image"&&(n._hasCustomWidth=!!c.dataset.width,n._hasCustomHeight=!!c.dataset.height),n}},{key:"checkSize",value:function(n){return Yt(n)?"".concat(n,"px"):n}},{key:"sanitizeValue",value:function(n){return n!=="true"&&n!=="false"?n:n==="true"}}]),Wt=r((function n(o,c,h){t(this,n),this.element=o,this.instance=c,this.index=h}),[{key:"setContent",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(w(o,"loaded"))return!1;var h=this.instance.settings,p=this.slideConfig,m=H();M(h.beforeSlideLoad)&&h.beforeSlideLoad({index:this.index,slide:o,player:!1});var v=p.type,y=p.descPosition,E=o.querySelector(".gslide-media"),C=o.querySelector(".gslide-title"),O=o.querySelector(".gslide-desc"),I=o.querySelector(".gdesc-inner"),q=c,R="gSlideTitle_"+this.index,j="gSlideDesc_"+this.index;if(M(h.afterSlideLoad)&&(q=function(){M(c)&&c(),h.afterSlideLoad({index:n.index,slide:o,player:n.instance.getSlidePlayerInstance(n.index)})}),p.title==""&&p.description==""?I&&I.parentNode.parentNode.removeChild(I.parentNode):(C&&p.title!==""?(C.id=R,C.innerHTML=p.title):C.parentNode.removeChild(C),O&&p.description!==""?(O.id=j,m&&h.moreLength>0?(p.smallDescription=this.slideShortDesc(p.description,h.moreLength,h.moreText),O.innerHTML=p.smallDescription,this.descriptionEvents(O,p)):O.innerHTML=p.description):O.parentNode.removeChild(O),g(E.parentNode,"desc-".concat(y)),g(I.parentNode,"description-".concat(y))),g(E,"gslide-".concat(v)),g(o,"loaded"),v!=="video"){if(v!=="external")return v==="inline"?(ds.apply(this.instance,[o,p,this.index,q]),void(p.draggable&&new Ui({dragEl:o.querySelector(".gslide-inline"),toleranceX:h.dragToleranceX,toleranceY:h.dragToleranceY,slide:o,instance:this.instance}))):void(v!=="image"?M(q)&&q():us(o,p,this.index,(function(){var K=o.querySelector("img");p.draggable&&new Ui({dragEl:K,toleranceX:h.dragToleranceX,toleranceY:h.dragToleranceY,slide:o,instance:n.instance}),p.zoomable&&K.naturalWidth>K.offsetWidth&&(g(K,"zoomable"),new cs(K,o,(function(){n.instance.resize()}))),M(q)&&q()})));fs.apply(this,[o,p,this.index,q])}else hs.apply(this.instance,[o,p,this.index,q])}},{key:"slideShortDesc",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=document.createElement("div");h.innerHTML=n;var p=h.innerText,m=c;if((n=p.trim()).length<=o)return n;var v=n.substr(0,o-1);return m?(h=null,v+'... <a href="#" class="desc-more">'+c+"</a>"):v}},{key:"descriptionEvents",value:function(n,o){var c=this,h=n.querySelector(".desc-more");if(!h)return!1;_("click",{onElement:h,withCallback:function(p,m){p.preventDefault();var v=document.body,y=S(m,".gslide-desc");if(!y)return!1;y.innerHTML=o.description,g(v,"gdesc-open");var E=_("click",{onElement:[v,S(y,".gslide-description")],withCallback:function(C,O){C.target.nodeName.toLowerCase()!=="a"&&(b(v,"gdesc-open"),g(v,"gdesc-closed"),y.innerHTML=o.smallDescription,c.descriptionEvents(y,o),setTimeout((function(){b(v,"gdesc-closed")}),400),E.destroy())}})}})}},{key:"create",value:function(){return U(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){oe(this.element)||this.element.hasOwnProperty("draggable")||(this.element.draggable=this.instance.settings.draggable);var n=new ps(this.instance.settings.slideExtraAttributes);return this.slideConfig=n.parseConfig(this.element,this.instance.settings),this.slideConfig}}]);function Xt(n){return Math.sqrt(n.x*n.x+n.y*n.y)}function gs(n,o){var c=(function(h,p){var m=Xt(h)*Xt(p);if(m===0)return 0;var v=(function(y,E){return y.x*E.x+y.y*E.y})(h,p)/m;return v>1&&(v=1),Math.acos(v)})(n,o);return(function(h,p){return h.x*p.y-p.x*h.y})(n,o)>0&&(c*=-1),180*c/Math.PI}var vs=r((function n(o){t(this,n),this.handlers=[],this.el=o}),[{key:"add",value:function(n){this.handlers.push(n)}},{key:"del",value:function(n){n||(this.handlers=[]);for(var o=this.handlers.length;o>=0;o--)this.handlers[o]===n&&this.handlers.splice(o,1)}},{key:"dispatch",value:function(){for(var n=0,o=this.handlers.length;n<o;n++){var c=this.handlers[n];typeof c=="function"&&c.apply(this.el,arguments)}}}]);function ae(n,o){var c=new vs(n);return c.add(o),c}var ms=r((function n(o,c){t(this,n),this.element=typeof o=="string"?document.querySelector(o):o,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var h=function(){};this.rotate=ae(this.element,c.rotate||h),this.touchStart=ae(this.element,c.touchStart||h),this.multipointStart=ae(this.element,c.multipointStart||h),this.multipointEnd=ae(this.element,c.multipointEnd||h),this.pinch=ae(this.element,c.pinch||h),this.swipe=ae(this.element,c.swipe||h),this.tap=ae(this.element,c.tap||h),this.doubleTap=ae(this.element,c.doubleTap||h),this.longTap=ae(this.element,c.longTap||h),this.singleTap=ae(this.element,c.singleTap||h),this.pressMove=ae(this.element,c.pressMove||h),this.twoFingerPressMove=ae(this.element,c.twoFingerPressMove||h),this.touchMove=ae(this.element,c.touchMove||h),this.touchEnd=ae(this.element,c.touchEnd||h),this.touchCancel=ae(this.element,c.touchCancel||h),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}),[{key:"start",value:function(n){if(n.touches)if(n.target&&n.target.nodeName&&["a","button","input"].indexOf(n.target.nodeName.toLowerCase())>=0)console.log("ignore drag for this touched element",n.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=n.touches[0].pageX,this.y1=n.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(n,this.element),this.preTapPosition.x!==null&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var o=this.preV;if(n.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var c={x:n.touches[1].pageX-this.x1,y:n.touches[1].pageY-this.y1};o.x=c.x,o.y=c.y,this.pinchStartLen=Xt(o),this.multipointStart.dispatch(n,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout((function(){this.longTap.dispatch(n,this.element),this._preventTap=!0}).bind(this),750)}}},{key:"move",value:function(n){if(n.touches){var o=this.preV,c=n.touches.length,h=n.touches[0].pageX,p=n.touches[0].pageY;if(this.isDoubleTap=!1,c>1){var m=n.touches[1].pageX,v=n.touches[1].pageY,y={x:n.touches[1].pageX-h,y:n.touches[1].pageY-p};o.x!==null&&(this.pinchStartLen>0&&(n.zoom=Xt(y)/this.pinchStartLen,this.pinch.dispatch(n,this.element)),n.angle=gs(y,o),this.rotate.dispatch(n,this.element)),o.x=y.x,o.y=y.y,this.x2!==null&&this.sx2!==null?(n.deltaX=(h-this.x2+m-this.sx2)/2,n.deltaY=(p-this.y2+v-this.sy2)/2):(n.deltaX=0,n.deltaY=0),this.twoFingerPressMove.dispatch(n,this.element),this.sx2=m,this.sy2=v}else{if(this.x2!==null){n.deltaX=h-this.x2,n.deltaY=p-this.y2;var E=Math.abs(this.x1-this.x2),C=Math.abs(this.y1-this.y2);(E>10||C>10)&&(this._preventTap=!0)}else n.deltaX=0,n.deltaY=0;this.pressMove.dispatch(n,this.element)}this.touchMove.dispatch(n,this.element),this._cancelLongTap(),this.x2=h,this.y2=p,c>1&&n.preventDefault()}}},{key:"end",value:function(n){if(n.changedTouches){this._cancelLongTap();var o=this;n.touches.length<2&&(this.multipointEnd.dispatch(n,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(n.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){o.swipe.dispatch(n,o.element)}),0)):(this.tapTimeout=setTimeout((function(){o._preventTap||o.tap.dispatch(n,o.element),o.isDoubleTap&&(o.doubleTap.dispatch(n,o.element),o.isDoubleTap=!1)}),0),o.isDoubleTap||(o.singleTapTimeout=setTimeout((function(){o.singleTap.dispatch(n,o.element)}),250))),this.touchEnd.dispatch(n,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(n){this.cancelAll(),this.touchCancel.dispatch(n,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(n,o,c,h){return Math.abs(n-o)>=Math.abs(c-h)?n-o>0?"Left":"Right":c-h>0?"Up":"Down"}},{key:"on",value:function(n,o){this[n]&&this[n].add(o)}},{key:"off",value:function(n,o){this[n]&&this[n].del(o)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]);function li(n){var o=(function(){var v,y=document.createElement("fakeelement"),E={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(v in E)if(y.style[v]!==void 0)return E[v]})(),c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=w(n,"gslide-media")?n:n.querySelector(".gslide-media"),p=S(h,".ginner-container"),m=n.querySelector(".gslide-description");c>769&&(h=p),g(h,"greset"),k(h,"translate3d(0, 0, 0)"),_(o,{onElement:h,once:!0,withCallback:function(v,y){b(h,"greset")}}),h.style.opacity="",m&&(m.style.opacity="")}function ys(n){if(n.events.hasOwnProperty("touch"))return!1;var o,c,h,p=Y(),m=p.width,v=p.height,y=!1,E=null,C=null,O=null,I=!1,q=1,R=1,j=!1,K=!1,be=null,pe=null,qe=null,te=null,Re=0,Ne=0,Et=!1,lt=!1,Te={},ke={},Wi=0,Xi=0,_s=document.getElementById("glightbox-slider"),Ht=document.querySelector(".goverlay"),Ss=new ms(_s,{touchStart:function(F){if(y=!0,(w(F.targetTouches[0].target,"ginner-container")||S(F.targetTouches[0].target,".gslide-desc")||F.targetTouches[0].target.nodeName.toLowerCase()=="a")&&(y=!1),S(F.targetTouches[0].target,".gslide-inline")&&!w(F.targetTouches[0].target.parentNode,"gslide-inline")&&(y=!1),y){if(ke=F.targetTouches[0],Te.pageX=F.targetTouches[0].pageX,Te.pageY=F.targetTouches[0].pageY,Wi=F.targetTouches[0].clientX,Xi=F.targetTouches[0].clientY,E=n.activeSlide,C=E.querySelector(".gslide-media"),h=E.querySelector(".gslide-inline"),O=null,w(C,"gslide-image")&&(O=C.querySelector("img")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(C=E.querySelector(".ginner-container")),b(Ht,"greset"),F.pageX>20&&F.pageX<window.innerWidth-20)return;F.preventDefault()}},touchMove:function(F){if(y&&(ke=F.targetTouches[0],!j&&!K)){if(h&&h.offsetHeight>v){var le=Te.pageX-ke.pageX;if(Math.abs(le)<=13)return!1}I=!0;var Xe,Vt=F.targetTouches[0].clientX,xs=F.targetTouches[0].clientY,Cs=Wi-Vt,Es=Xi-xs;if(Math.abs(Cs)>Math.abs(Es)?(Et=!1,lt=!0):(lt=!1,Et=!0),o=ke.pageX-Te.pageX,Re=100*o/m,c=ke.pageY-Te.pageY,Ne=100*c/v,Et&&O&&(Xe=1-Math.abs(c)/v,Ht.style.opacity=Xe,n.settings.touchFollowAxis&&(Re=0)),lt&&(Xe=1-Math.abs(o)/m,C.style.opacity=Xe,n.settings.touchFollowAxis&&(Ne=0)),!O)return k(C,"translate3d(".concat(Re,"%, 0, 0)"));k(C,"translate3d(".concat(Re,"%, ").concat(Ne,"%, 0)"))}},touchEnd:function(){if(y){if(I=!1,K||j)return qe=be,void(te=pe);var F=Math.abs(parseInt(Ne)),le=Math.abs(parseInt(Re));if(!(F>29&&O))return F<29&&le<25?(g(Ht,"greset"),Ht.style.opacity=1,li(C)):void 0;n.close()}},multipointEnd:function(){setTimeout((function(){j=!1}),50)},multipointStart:function(){j=!0,q=R||1},pinch:function(F){if(!O||I)return!1;j=!0,O.scaleX=O.scaleY=q*F.zoom;var le=q*F.zoom;if(K=!0,le<=1)return K=!1,le=1,te=null,qe=null,be=null,pe=null,void O.setAttribute("style","");le>4.5&&(le=4.5),O.style.transform="scale3d(".concat(le,", ").concat(le,", 1)"),R=le},pressMove:function(F){if(K&&!j){var le=ke.pageX-Te.pageX,Xe=ke.pageY-Te.pageY;qe&&(le+=qe),te&&(Xe+=te),be=le,pe=Xe;var Vt="translate3d(".concat(le,"px, ").concat(Xe,"px, 0)");R&&(Vt+=" scale3d(".concat(R,", ").concat(R,", 1)")),k(O,Vt)}},swipe:function(F){if(!K)if(j)j=!1;else{if(F.direction=="Left"){if(n.index==n.elements.length-1)return li(C);n.nextSlide()}if(F.direction=="Right"){if(n.index==0)return li(C);n.prevSlide()}}}});n.events.touch=Ss}var Fi=H(),Bi=H()!==null||document.createTouch!==void 0||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,Yi=document.getElementsByTagName("html")[0],bs={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.12/plyr.css",js:"https://cdn.plyr.io/3.6.12/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:`<div class="gslide">
    <div class="gslide-inner-content">
        <div class="ginner-container">
            <div class="gslide-media">
            </div>
            <div class="gslide-description">
                <div class="gdesc-inner">
                    <h4 class="gslide-title"></h4>
                    <div class="gslide-desc"></div>
                </div>
            </div>
        </div>
    </div>
</div>`,lightboxHTML:`<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">
    <div class="gloader visible"></div>
    <div class="goverlay"></div>
    <div class="gcontainer">
    <div id="glightbox-slider" class="gslider"></div>
    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>
    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>
    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>
</div>
</div>`},ws=r((function n(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,n),this.customOptions=o,this.settings=d(bs,o),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}),[{key:"init",value:function(){var n=this,o=this.getSelector();o&&(this.baseEvents=_("click",{onElement:o,withCallback:function(c,h){c.preventDefault(),n.open(h)}})),this.elements=this.getElements()}},{key:"open",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.elements.length===0)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var c=Yt(o)?o:this.settings.startAt;if(oe(n)){var h=n.getAttribute("data-gallery");h&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,h)),fe(c)&&(c=this.getElementIndex(n))<0&&(c=0)}Yt(c)||(c=0),this.build(),T(this.overlay,this.settings.openEffect==="none"?"none":this.settings.cssEfects.fade.in);var p=document.body,m=window.innerWidth-document.documentElement.clientWidth;if(m>0){var v=document.createElement("style");v.type="text/css",v.className="gcss-styles",v.innerText=".gscrollbar-fixer {margin-right: ".concat(m,"px}"),document.head.appendChild(v),g(p,"gscrollbar-fixer")}g(p,"glightbox-open"),g(Yi,"glightbox-open"),Fi&&(g(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(c,!0),this.elements.length===1?(g(this.prevButton,"glightbox-button-hidden"),g(this.nextButton,"glightbox-button-hidden")):(b(this.prevButton,"glightbox-button-hidden"),b(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),M(this.settings.onOpen)&&this.settings.onOpen(),Bi&&this.settings.touchNavigation&&ys(this),this.settings.keyboardNavigation&&ls(this)}},{key:"openAt",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.open(null,n)}},{key:"showSlide",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];P(this.loader),this.index=parseInt(o);var h=this.slidesContainer.querySelector(".current");h&&b(h,"current"),this.slideAnimateOut();var p=this.slidesContainer.querySelectorAll(".gslide")[o];if(w(p,"loaded"))this.slideAnimateIn(p,c),A(this.loader);else{P(this.loader);var m=this.elements[o],v={index:this.index,slide:p,slideNode:p,slideConfig:m.slideConfig,slideIndex:this.index,trigger:m.node,player:null};this.trigger("slide_before_load",v),m.instance.setContent(p,(function(){A(n.loader),n.resize(),n.slideAnimateIn(p,c),n.trigger("slide_after_load",v)}))}this.slideDescription=p.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&w(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(o+1),this.preloadSlide(o-1)),this.updateNavigationClasses(),this.activeSlide=p}},{key:"preloadSlide",value:function(n){var o=this;if(n<0||n>this.elements.length-1||fe(this.elements[n]))return!1;var c=this.slidesContainer.querySelectorAll(".gslide")[n];if(w(c,"loaded"))return!1;var h=this.elements[n],p=h.type,m={index:n,slide:c,slideNode:c,slideConfig:h.slideConfig,slideIndex:n,trigger:h.node,player:null};this.trigger("slide_before_load",m),p==="video"||p==="external"?setTimeout((function(){h.instance.setContent(c,(function(){o.trigger("slide_after_load",m)}))}),200):h.instance.setContent(c,(function(){o.trigger("slide_after_load",m)}))}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(n<0||n>this.elements.length-1))return!1;n<0?n=this.elements.length-1:n>=this.elements.length&&(n=0),this.showSlide(n)}},{key:"insertSlide",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;o<0&&(o=this.elements.length);var c=new Wt(n,this,o),h=c.getConfig(),p=d({},h),m=c.create(),v=this.elements.length-1;p.index=o,p.node=!1,p.instance=c,p.slideConfig=h,this.elements.splice(o,0,p);var y=null,E=null;if(this.slidesContainer){if(o>v)this.slidesContainer.appendChild(m);else{var C=this.slidesContainer.querySelectorAll(".gslide")[o];this.slidesContainer.insertBefore(m,C)}(this.settings.preload&&this.index==0&&o==0||this.index-1==o||this.index+1==o)&&this.preloadSlide(o),this.index===0&&o===0&&(this.index=1),this.updateNavigationClasses(),y=this.slidesContainer.querySelectorAll(".gslide")[o],E=this.getSlidePlayerInstance(o),p.slideNode=y}this.trigger("slide_inserted",{index:o,slide:y,slideNode:y,slideConfig:h,slideIndex:o,trigger:null,player:E}),M(this.settings.slideInserted)&&this.settings.slideInserted({index:o,slide:y,player:E})}},{key:"removeSlide",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;if(n<0||n>this.elements.length-1)return!1;var o=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[n];o&&(this.getActiveSlideIndex()==n&&(n==this.elements.length-1?this.prevSlide():this.nextSlide()),o.parentNode.removeChild(o)),this.elements.splice(n,1),this.trigger("slide_removed",n),M(this.settings.slideRemoved)&&this.settings.slideRemoved(n)}},{key:"slideAnimateIn",value:function(n,o){var c=this,h=n.querySelector(".gslide-media"),p=n.querySelector(".gslide-description"),m={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:fe(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:fe(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},v={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(h.offsetWidth>0&&p&&(A(p),p.style.display=""),b(n,this.effectsClasses),o)T(n,this.settings.cssEfects[this.settings.openEffect].in,(function(){c.settings.autoplayVideos&&c.slidePlayerPlay(n),c.trigger("slide_changed",{prev:m,current:v}),M(c.settings.afterSlideChange)&&c.settings.afterSlideChange.apply(c,[m,v])}));else{var y=this.settings.slideEffect,E=y!=="none"?this.settings.cssEfects[y].in:y;this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"&&(E=this.settings.cssEfects.slideBack.in),T(n,E,(function(){c.settings.autoplayVideos&&c.slidePlayerPlay(n),c.trigger("slide_changed",{prev:m,current:v}),M(c.settings.afterSlideChange)&&c.settings.afterSlideChange.apply(c,[m,v])}))}setTimeout((function(){c.resize(n)}),100),g(n,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var n=this.prevActiveSlide;b(n,this.effectsClasses),g(n,"prev");var o=this.settings.slideEffect,c=o!=="none"?this.settings.cssEfects[o].out:o;this.slidePlayerPause(n),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:fe(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:fe(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),M(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"&&(c=this.settings.cssEfects.slideBack.out),T(n,c,(function(){var h=n.querySelector(".ginner-container"),p=n.querySelector(".gslide-media"),m=n.querySelector(".gslide-description");h.style.transform="",p.style.transform="",b(p,"greset"),p.style.opacity="",m&&(m.style.opacity=""),b(n,"prev")}))}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(n){var o="gvideo"+n,c=this.getAllPlayers();return!(!G(c,o)||!c[o])&&c[o]}},{key:"stopSlideVideo",value:function(n){if(oe(n)){var o=n.querySelector(".gvideo-wrapper");o&&(n=o.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var c=this.getSlidePlayerInstance(n);c&&c.playing&&c.pause()}},{key:"slidePlayerPause",value:function(n){if(oe(n)){var o=n.querySelector(".gvideo-wrapper");o&&(n=o.getAttribute("data-index"))}var c=this.getSlidePlayerInstance(n);c&&c.playing&&c.pause()}},{key:"playSlideVideo",value:function(n){if(oe(n)){var o=n.querySelector(".gvideo-wrapper");o&&(n=o.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var c=this.getSlidePlayerInstance(n);c&&!c.playing&&c.play()}},{key:"slidePlayerPlay",value:function(n){var o;if(!Fi||(o=this.settings.plyr.config)!==null&&o!==void 0&&o.muted){if(oe(n)){var c=n.querySelector(".gvideo-wrapper");c&&(n=c.getAttribute("data-index"))}var h=this.getSlidePlayerInstance(n);h&&!h.playing&&(h.play(),this.settings.autofocusVideos&&h.elements.container.focus())}}},{key:"setElements",value:function(n){var o=this;this.settings.elements=!1;var c=[];n&&n.length&&f(n,(function(h,p){var m=new Wt(h,o,p),v=m.getConfig(),y=d({},v);y.slideConfig=v,y.instance=m,y.index=p,c.push(y)})),this.elements=c,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(f(this.elements,(function(){var h=U(o.settings.slideHTML);o.slidesContainer.appendChild(h)})),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(n){var o=!1;return f(this.elements,(function(c,h){if(G(c,"node")&&c.node==n)return o=h,!0})),o}},{key:"getElements",value:function(){var n=this,o=[];this.elements=this.elements?this.elements:[],!fe(this.settings.elements)&&at(this.settings.elements)&&this.settings.elements.length&&f(this.settings.elements,(function(h,p){var m=new Wt(h,n,p),v=m.getConfig(),y=d({},v);y.node=!1,y.index=p,y.instance=m,y.slideConfig=v,o.push(y)}));var c=!1;return this.getSelector()&&(c=document.querySelectorAll(this.getSelector())),c&&f(c,(function(h,p){var m=new Wt(h,n,p),v=m.getConfig(),y=d({},v);y.node=h,y.index=p,y.instance=m,y.slideConfig=v,y.gallery=h.getAttribute("data-gallery"),o.push(y)})),o}},{key:"getGalleryElements",value:function(n,o){return n.filter((function(c){return c.gallery==o}))}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&this.settings.selector.substring(0,5)=="data-"?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var n=[];for(var o in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(o)){var c=this.settings.cssEfects[o];n.push("g".concat(c.in)),n.push("g".concat(c.out))}return n.join(" ")}},{key:"build",value:function(){var n=this;if(this.built)return!1;var o=document.body.childNodes,c=[];f(o,(function(C){C.parentNode==document.body&&C.nodeName.charAt(0)!=="#"&&C.hasAttribute&&!C.hasAttribute("aria-hidden")&&(c.push(C),C.setAttribute("aria-hidden","true"))}));var h=G(this.settings.svg,"next")?this.settings.svg.next:"",p=G(this.settings.svg,"prev")?this.settings.svg.prev:"",m=G(this.settings.svg,"close")?this.settings.svg.close:"",v=this.settings.lightboxHTML;v=U(v=(v=(v=v.replace(/{nextSVG}/g,h)).replace(/{prevSVG}/g,p)).replace(/{closeSVG}/g,m)),document.body.appendChild(v);var y=document.getElementById("glightbox-body");this.modal=y;var E=y.querySelector(".gclose");this.prevButton=y.querySelector(".gprev"),this.nextButton=y.querySelector(".gnext"),this.overlay=y.querySelector(".goverlay"),this.loader=y.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=c,this.events={},g(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&E&&(this.events.close=_("click",{onElement:E,withCallback:function(C,O){C.preventDefault(),n.close()}})),E&&!this.settings.closeButton&&E.parentNode.removeChild(E),this.nextButton&&(this.events.next=_("click",{onElement:this.nextButton,withCallback:function(C,O){C.preventDefault(),n.nextSlide()}})),this.prevButton&&(this.events.prev=_("click",{onElement:this.prevButton,withCallback:function(C,O){C.preventDefault(),n.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=_("click",{onElement:y,withCallback:function(C,O){n.preventOutsideClick||w(document.body,"glightbox-mobile")||S(C.target,".ginner-container")||S(C.target,".gbtn")||w(C.target,"gnext")||w(C.target,"gprev")||n.close()}})),f(this.elements,(function(C,O){n.slidesContainer.appendChild(C.instance.create()),C.slideNode=n.slidesContainer.querySelectorAll(".gslide")[O]})),Bi&&g(document.body,"glightbox-touch"),this.events.resize=_("resize",{onElement:window,withCallback:function(){n.resize()}}),this.built=!0}},{key:"resize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if((n=n||this.activeSlide)&&!w(n,"zoomed")){var o=Y(),c=n.querySelector(".gvideo-wrapper"),h=n.querySelector(".gslide-image"),p=this.slideDescription,m=o.width,v=o.height;if(m<=768?g(document.body,"glightbox-mobile"):b(document.body,"glightbox-mobile"),c||h){var y=!1;if(p&&(w(p,"description-bottom")||w(p,"description-top"))&&!w(p,"gabsolute")&&(y=!0),h){if(m<=768)h.querySelector("img");else if(y){var E,C,O=p.offsetHeight,I=h.querySelector("img"),q=(E=this.elements[this.index])===null||E===void 0?void 0:E.node,R="100vh";q&&(R=(C=q.getAttribute("data-height"))!==null&&C!==void 0?C:R),I.setAttribute("style","max-height: calc(".concat(R," - ").concat(O,"px)")),p.setAttribute("style","max-width: ".concat(I.offsetWidth,"px;"))}}if(c){var j=G(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!j){var K=c.clientWidth,be=c.clientHeight,pe=K/be;j="".concat(K/pe,":").concat(be/pe)}var qe=j.split(":"),te=this.settings.videosWidth,Re=this.settings.videosWidth,Ne=(Re=Yt(te)||te.indexOf("px")!==-1?parseInt(te):te.indexOf("vw")!==-1?m*parseInt(te)/100:te.indexOf("vh")!==-1?v*parseInt(te)/100:te.indexOf("%")!==-1?m*parseInt(te)/100:parseInt(c.clientWidth))/(parseInt(qe[0])/parseInt(qe[1]));if(Ne=Math.floor(Ne),y&&(v-=p.offsetHeight),Re>m||Ne>v||v<Ne&&m>Re){var Et=c.offsetWidth,lt=c.offsetHeight,Te=v/lt,ke={width:Et*Te,height:lt*Te};c.parentNode.setAttribute("style","max-width: ".concat(ke.width,"px")),y&&p.setAttribute("style","max-width: ".concat(ke.width,"px;"))}else c.parentNode.style.maxWidth="".concat(te),y&&p.setAttribute("style","max-width: ".concat(te,";"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var n=this.loop();b(this.nextButton,"disabled"),b(this.prevButton,"disabled"),this.index==0&&this.elements.length-1==0?(g(this.prevButton,"disabled"),g(this.nextButton,"disabled")):this.index!==0||n?this.index!==this.elements.length-1||n||g(this.nextButton,"disabled"):g(this.prevButton,"disabled")}},{key:"loop",value:function(){var n=G(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return n=G(this.settings,"loop")?this.settings.loop:n,n}},{key:"close",value:function(){var n=this;if(!this.lightboxOpen){if(this.events){for(var o in this.events)this.events.hasOwnProperty(o)&&this.events[o].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&f(this.bodyHiddenChildElms,(function(c){c.removeAttribute("aria-hidden")})),g(this.modal,"glightbox-closing"),T(this.overlay,this.settings.openEffect=="none"?"none":this.settings.cssEfects.fade.out),T(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,(function(){if(n.activeSlide=null,n.prevActiveSlideIndex=null,n.prevActiveSlide=null,n.built=!1,n.events){for(var c in n.events)n.events.hasOwnProperty(c)&&n.events[c].destroy();n.events=null}var h=document.body;b(Yi,"glightbox-open"),b(h,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),n.modal.parentNode.removeChild(n.modal),n.trigger("close"),M(n.settings.onClose)&&n.settings.onClose();var p=document.querySelector(".gcss-styles");p&&p.parentNode.removeChild(p),n.lightboxOpen=!1,n.closing=null}))}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!n||!M(o))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:n,once:c,callback:o})}},{key:"once",value:function(n,o){this.on(n,o,!0)}},{key:"trigger",value:function(n){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=[];f(this.apiEvents,(function(p,m){var v=p.evt,y=p.once,E=p.callback;v==n&&(E(c),y&&h.push(m))})),h.length&&f(h,(function(p){return o.apiEvents.splice(p,1)}))}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.3.1"}}]);return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=new ws(n);return o.init(),o}}))})(Jt)),Jt.exports}var Ao=Oo();const Io=To(Ao);var Lo=ye('<div class="loading">Loading photos...</div>'),Po=ye('<div class="error"> </div>'),qo=ye('<div class="loading">No photos yet</div>'),Ro=ye('<a class="glightbox photo-card"><img loading="lazy"/></a>'),No=ye('<div class="photo-grid"></div>'),Mo=ye("<!> <main><!></main>",1);function jo(i,e){St(e,!1);let t=Q([]),s=Q(!0),r=Q("");es(async()=>{try{const _=await De.collection("media").getList(1,50,{sort:"-taken_at",filter:`owner = "${De.authStore.model.id}"`});z(t,_.items),setTimeout(()=>{Io({touchNavigation:!0,keyboardNavigation:!0})},100)}catch(_){z(r,_.message)}finally{z(s,!1)}}),Ft();var a=Mo(),l=Qe(a);Eo(l,{});var u=V(l,2),d=X(u);{var f=_=>{var g=Lo();Z(_,g)},x=_=>{var g=Pt(),b=Qe(g);{var w=T=>{var k=Po(),P=X(k);rt(()=>wt(P,L(r))),Z(T,k)},S=T=>{var k=Pt(),P=Qe(k);{var A=Y=>{var ee=qo();Z(Y,ee)},U=Y=>{var ee=No();jr(ee,5,()=>L(t),Nr,(B,J)=>{var H=Ro(),M=X(H);rt(()=>{ui(H,"href",`/thumbs/view/${L(J).path??""}`),ui(M,"src",`/thumbs/small/${L(J).path??""}`),ui(M,"alt",L(J).path)}),Z(B,H)}),Z(Y,ee)};Le(P,Y=>{L(t).length===0?Y(A):Y(U,!1)},!0)}Z(T,k)};Le(b,T=>{L(r)?T(w):T(S,!1)},!0)}Z(_,g)};Le(d,_=>{L(s)?_(f):_(x,!1)})}Z(i,a),xt()}function Do(i,e){St(e,!1);let t=Q("login");function s(){const f=(window.location.hash.slice(1)||"/login").split("/")[1]||"login";z(t,f),f==="library"&&!De.authStore.isValid&&(window.location.hash="#/login",z(t,"login"))}es(()=>(s(),window.addEventListener("hashchange",s),()=>window.removeEventListener("hashchange",s))),Ft();var r=Pt(),a=Qe(r);{var l=d=>{yo(d,{})},u=d=>{var f=Pt(),x=Qe(f);{var _=b=>{_o(b,{})},g=b=>{var w=Pt(),S=Qe(w);{var T=k=>{jo(k,{})};Le(S,k=>{L(t)==="library"&&k(T)},!0)}Z(b,w)};Le(x,b=>{L(t)==="signup"?b(_):b(g,!1)},!0)}Z(d,f)};Le(a,d=>{L(t)==="login"?d(l):d(u,!1)})}Z(i,r),xt()}Lr(Do,{target:document.getElementById("app")});
