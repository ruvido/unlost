(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const vn=!1;var gn=Array.isArray,dr=Array.prototype.indexOf,Nt=Array.from,bn=Object.defineProperty,ze=Object.getOwnPropertyDescriptor,mn=Object.getOwnPropertyDescriptors,pr=Object.prototype,vr=Array.prototype,Ut=Object.getPrototypeOf,Jt=Object.isExtensible;const Le=()=>{};function gr(n){return n()}function Tt(n){for(var e=0;e<n.length;e++)n[e]()}function _n(){var n,e,t=new Promise((r,s)=>{n=r,e=s});return{promise:t,resolve:n,reject:e}}const U=2,Dt=4,gt=8,ae=16,le=32,ke=64,bt=128,j=1024,W=2048,ce=4096,H=8192,ge=16384,Ft=32768,Ne=65536,Yt=1<<17,yn=1<<18,Me=1<<19,wn=1<<20,J=256,ft=512,ht=32768,kt=1<<21,Mt=1<<22,be=1<<23,Je=Symbol("$state"),br=Symbol(""),Pe=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function mr(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function _r(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function yr(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function wr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Sr(n){throw new Error("https://svelte.dev/e/effect_orphan")}function Er(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Cr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Or(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Tr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function kr(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Rr=1,Ar=2,Pr=16,Ir=1,Lr=2,q=Symbol(),xr="http://www.w3.org/1999/xhtml";function qr(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let jr=!1;function Sn(n){return n===this.v}function En(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function Cn(n){return!En(n,this.v)}let nt=!1,Nr=!1;function Ur(){nt=!0}let P=null;function Ue(n){P=n}function Ke(n,e=!1,t){P={p:P,i:!1,c:null,e:null,s:n,x:null,l:nt&&!e?{s:null,u:null,$:[]}:null}}function Be(n){var e=P,t=e.e;if(t!==null){e.e=null;for(var r of t)Mn(r)}return e.i=!0,P=e.p,{}}function rt(){return!nt||P!==null&&P.l===null}let we=[];function On(){var n=we;we=[],Tt(n)}function mt(n){if(we.length===0&&!Ye){var e=we;queueMicrotask(()=>{e===we&&On()})}we.push(n)}function Dr(){for(;we.length>0;)On()}function Tn(n){var e=S;if(e===null)return w.f|=be,n;if((e.f&Ft)===0){if((e.f&bt)===0)throw n;e.b.error(n)}else De(n,e)}function De(n,e){for(;e!==null;){if((e.f&bt)!==0)try{e.b.error(n);return}catch(t){n=t}e=e.parent}throw n}const lt=new Set;let C=null,ut=null,Q=null,ee=[],_t=null,Rt=!1,Ye=!1;class te{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#l=null;#o=[];#a=[];skipped_effects=new Set;is_fork=!1;process(e){ee=[],ut=null,this.apply();var t={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#s(r,t);this.is_fork||this.#c(),this.#r>0||this.is_fork?(this.#i(t.effects),this.#i(t.render_effects),this.#i(t.block_effects)):(ut=this,C=null,Qt(t.render_effects),Qt(t.effects),ut=null,this.#l?.resolve()),Q=null}#s(e,t){e.f^=j;for(var r=e.first;r!==null;){var s=r.f,i=(s&(le|ke))!==0,o=i&&(s&j)!==0,a=o||(s&H)!==0||this.skipped_effects.has(r);if((r.f&bt)!==0&&r.b?.is_pending()&&(t={parent:t,effect:r,effects:[],render_effects:[],block_effects:[]}),!a&&r.fn!==null){i?r.f^=j:(s&Dt)!==0?t.effects.push(r):it(r)&&((r.f&ae)!==0&&t.block_effects.push(r),tt(r));var l=r.first;if(l!==null){r=l;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)c===t.effect&&(this.#i(t.effects),this.#i(t.render_effects),this.#i(t.block_effects),t=t.parent),r=c.next,c=c.parent}}#i(e){for(const t of e)((t.f&W)!==0?this.#o:this.#a).push(t),N(t,j)}capture(e,t){this.previous.has(e)||this.previous.set(e,t),(e.f&be)===0&&(this.current.set(e,e.v),Q?.set(e,e.v))}activate(){C=this,this.apply()}deactivate(){C=null,Q=null}flush(){if(this.activate(),ee.length>0){if(kn(),C!==null&&C!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#c(){if(this.#r===0){for(const e of this.#e)e();this.#e.clear()}this.#n===0&&this.#u()}#u(){if(lt.size>1){this.previous.clear();var e=Q,t=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of lt){if(s===this){t=!1;continue}const i=[];for(const[a,l]of this.current){if(s.current.has(a))if(t&&l!==s.current.get(a))s.current.set(a,l);else continue;i.push(a)}if(i.length===0)continue;const o=[...s.current.keys()].filter(a=>!this.current.has(a));if(o.length>0){const a=new Set,l=new Map;for(const c of i)Rn(c,o,a,l);if(ee.length>0){C=s,s.apply();for(const c of ee)s.#s(c,r);ee=[],s.deactivate()}}}C=null,Q=e}this.committed=!0,lt.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){this.#n-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#o)N(e,W),Ee(e);for(const e of this.#a)N(e,ce),Ee(e);this.#o=[],this.#a=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=_n()).promise}static ensure(){if(C===null){const e=C=new te;lt.add(C),Ye||te.enqueue(()=>{C===e&&e.flush()})}return C}static enqueue(e){mt(e)}apply(){}}function Fr(n){var e=Ye;Ye=!0;try{for(var t;;){if(Dr(),ee.length===0&&(C?.flush(),ee.length===0))return _t=null,t;kn()}}finally{Ye=e}}function kn(){var n=qe;Rt=!0;try{var e=0;for(en(!0);ee.length>0;){var t=te.ensure();if(e++>1e3){var r,s;Mr()}t.process(ee),me.clear()}}finally{Rt=!1,en(n),_t=null}}function Mr(){try{Er()}catch(n){De(n,_t)}}let se=null;function Qt(n){var e=n.length;if(e!==0){for(var t=0;t<e;){var r=n[t++];if((r.f&(ge|H))===0&&it(r)&&(se=new Set,tt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?$n(r):r.fn=null),se?.size>0)){me.clear();for(const s of se){if((s.f&(ge|H))!==0)continue;const i=[s];let o=s.parent;for(;o!==null;)se.has(o)&&(se.delete(o),i.push(o)),o=o.parent;for(let a=i.length-1;a>=0;a--){const l=i[a];(l.f&(ge|H))===0&&tt(l)}}se.clear()}}se=null}}function Rn(n,e,t,r){if(!t.has(n)&&(t.add(n),n.reactions!==null))for(const s of n.reactions){const i=s.f;(i&U)!==0?Rn(s,e,t,r):(i&(Mt|ae))!==0&&(i&W)===0&&An(s,e,r)&&(N(s,W),Ee(s))}}function An(n,e,t){const r=t.get(n);if(r!==void 0)return r;if(n.deps!==null)for(const s of n.deps){if(e.includes(s))return!0;if((s.f&U)!==0&&An(s,e,t))return t.set(s,!0),!0}return t.set(n,!1),!1}function Ee(n){for(var e=_t=n;e.parent!==null;){e=e.parent;var t=e.f;if(Rt&&e===S&&(t&ae)!==0&&(t&yn)===0)return;if((t&(ke|le))!==0){if((t&j)===0)return;e.f^=j}}ee.push(e)}function Kr(n){let e=0,t=Ce(0),r;return()=>{ts()&&(m(t),Kn(()=>(e===0&&(r=ot(()=>n(()=>Qe(t)))),e+=1,()=>{mt(()=>{e-=1,e===0&&(r?.(),r=void 0,Qe(t))})})))}}var Br=Ne|Me|bt;function Wr(n,e,t){new $r(n,e,t)}class $r{parent;#e=!1;#t;#n=null;#r;#l;#o;#a=null;#s=null;#i=null;#c=null;#u=null;#d=0;#f=0;#p=!1;#h=null;#_=Kr(()=>(this.#h=Ce(this.#d),()=>{this.#h=null}));constructor(e,t,r){this.#t=e,this.#r=t,this.#l=r,this.parent=S.b,this.#e=!!this.#r.pending,this.#o=$t(()=>{S.b=this;{var s=this.#b();try{this.#a=Y(()=>r(s))}catch(i){this.error(i)}this.#f>0?this.#g():this.#e=!1}return()=>{this.#u?.remove()}},Br)}#y(){try{this.#a=Y(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#w(){const e=this.#r.pending;e&&(this.#s=Y(()=>e(this.#t)),te.enqueue(()=>{var t=this.#b();this.#a=this.#v(()=>(te.ensure(),Y(()=>this.#l(t)))),this.#f>0?this.#g():(xe(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#b(){var e=this.#t;return this.#e&&(this.#u=Oe(),this.#t.before(this.#u),e=this.#u),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#v(e){var t=S,r=w,s=P;re(this.#o),B(this.#o),Ue(this.#o.ctx);try{return e()}catch(i){return Tn(i),null}finally{re(t),B(r),Ue(s)}}#g(){const e=this.#r.pending;this.#a!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),Gn(this.#a,this.#c)),this.#s===null&&(this.#s=Y(()=>e(this.#t)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#f+=e,this.#f===0&&(this.#e=!1,this.#s&&xe(this.#s,()=>{this.#s=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(e){this.#m(e),this.#d+=e,this.#h&&Ze(this.#h,this.#d)}get_effect_pending(){return this.#_(),m(this.#h)}error(e){var t=this.#r.onerror;let r=this.#r.failed;if(this.#p||!t&&!r)throw e;this.#a&&(F(this.#a),this.#a=null),this.#s&&(F(this.#s),this.#s=null),this.#i&&(F(this.#i),this.#i=null);var s=!1,i=!1;const o=()=>{if(s){qr();return}s=!0,i&&kr(),te.ensure(),this.#d=0,this.#i!==null&&xe(this.#i,()=>{this.#i=null}),this.#e=this.has_pending_snippet(),this.#a=this.#v(()=>(this.#p=!1,Y(()=>this.#l(this.#t)))),this.#f>0?this.#g():this.#e=!1};var a=w;try{B(null),i=!0,t?.(e,o),i=!1}catch(l){De(l,this.#o&&this.#o.parent)}finally{B(a)}r&&mt(()=>{this.#i=this.#v(()=>{te.ensure(),this.#p=!0;try{return Y(()=>{r(this.#t,()=>e,()=>o)})}catch(l){return De(l,this.#o.parent),null}finally{this.#p=!1}})})}}function Hr(n,e,t,r){const s=rt()?Kt:Pn;if(t.length===0&&n.length===0){r(e.map(s));return}var i=C,o=S,a=Vr();function l(){Promise.all(t.map(c=>Gr(c))).then(c=>{a();try{r([...e.map(s),...c])}catch(p){(o.f&ge)===0&&De(p,o)}i?.deactivate(),dt()}).catch(c=>{De(c,o)})}n.length>0?Promise.all(n).then(()=>{a();try{return l()}finally{i?.deactivate(),dt()}}):l()}function Vr(){var n=S,e=w,t=P,r=C;return function(i=!0){re(n),B(e),Ue(t),i&&r?.activate()}}function dt(){re(null),B(null),Ue(null)}function Kt(n){var e=U|W,t=w!==null&&(w.f&U)!==0?w:null;return S===null||t!==null&&(t.f&J)!==0?e|=J:S.f|=Me,{ctx:P,deps:null,effects:null,equals:Sn,f:e,fn:n,reactions:null,rv:0,v:q,wv:0,parent:t??S,ac:null}}function Gr(n,e){let t=S;t===null&&_r();var r=t.b,s=void 0,i=Ce(q),o=!w,a=new Map;return ss(()=>{var l=_n();s=l.promise;try{Promise.resolve(n()).then(l.resolve,l.reject).then(()=>{c===C&&c.committed&&c.deactivate(),dt()})}catch(u){l.reject(u),dt()}var c=C;if(o){var p=!r.is_pending();r.update_pending_count(1),c.increment(p),a.get(c)?.reject(Pe),a.delete(c),a.set(c,l)}const d=(u,f=void 0)=>{if(c.activate(),f)f!==Pe&&(i.f|=be,Ze(i,f));else{(i.f&be)!==0&&(i.f^=be),Ze(i,u);for(const[h,v]of a){if(a.delete(h),h===c)break;v.reject(Pe)}}o&&(r.update_pending_count(-1),c.decrement(p))};l.promise.then(d,u=>d(null,u||"unknown"))}),Wt(()=>{for(const l of a.values())l.reject(Pe)}),new Promise(l=>{function c(p){function d(){p===s?l(i):c(s)}p.then(d,d)}c(s)})}function Pn(n){const e=Kt(n);return e.equals=Cn,e}function In(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)F(e[t])}}function zr(n){for(var e=n.parent;e!==null;){if((e.f&U)===0)return e;e=e.parent}return null}function Bt(n){var e,t=S;re(zr(n));try{n.f&=~ht,In(n),e=Qn(n)}finally{re(t)}return e}function Ln(n){var e=Bt(n);if(n.equals(e)||(n.v=e,n.wv=Jn()),!We)if(Q!==null)Q.set(n,n.v);else{var t=(ve||(n.f&J)!==0)&&n.deps!==null?ce:j;N(n,t)}}let At=new Set;const me=new Map;let xn=!1;function Ce(n,e){var t={f:0,v:n,reactions:null,equals:Sn,rv:0,wv:0};return t}function he(n,e){const t=Ce(n);return as(t),t}function x(n,e=!1,t=!0){const r=Ce(n);return e||(r.equals=Cn),nt&&t&&P!==null&&P.l!==null&&(P.l.s??=[]).push(r),r}function E(n,e,t=!1){w!==null&&(!X||(w.f&Yt)!==0)&&rt()&&(w.f&(U|ae|Mt|Yt))!==0&&!ie?.includes(n)&&Tr();let r=t?Ve(e):e;return Ze(n,r)}function Ze(n,e){if(!n.equals(e)){var t=n.v;We?me.set(n,e):me.set(n,t),n.v=e;var r=te.ensure();r.capture(n,t),(n.f&U)!==0&&((n.f&W)!==0&&Bt(n),N(n,(n.f&J)===0?j:ce)),n.wv=Jn(),qn(n,W),rt()&&S!==null&&(S.f&j)!==0&&(S.f&(le|ke))===0&&(z===null?ls([n]):z.push(n)),!r.is_fork&&At.size>0&&!xn&&Jr()}return e}function Jr(){xn=!1;const n=Array.from(At);for(const e of n)(e.f&j)!==0&&N(e,ce),it(e)&&tt(e);At.clear()}function Qe(n){E(n,n.v+1)}function qn(n,e){var t=n.reactions;if(t!==null)for(var r=rt(),s=t.length,i=0;i<s;i++){var o=t[i],a=o.f;if(!(!r&&o===S)){var l=(a&W)===0;l&&N(o,e),(a&U)!==0?(a&ht)===0&&(o.f|=ht,qn(o,ce)):l&&((a&ae)!==0&&se!==null&&se.add(o),Ee(o))}}}function Ve(n){if(typeof n!="object"||n===null||Je in n)return n;const e=Ut(n);if(e!==pr&&e!==vr)return n;var t=new Map,r=gn(n),s=he(0),i=Se,o=a=>{if(Se===i)return a();var l=w,c=Se;B(null),nn(i);var p=a();return B(l),nn(c),p};return r&&t.set("length",he(n.length)),new Proxy(n,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Cr();var p=t.get(l);return p===void 0?p=o(()=>{var d=he(c.value);return t.set(l,d),d}):E(p,c.value,!0),!0},deleteProperty(a,l){var c=t.get(l);if(c===void 0){if(l in a){const p=o(()=>he(q));t.set(l,p),Qe(s)}}else E(c,q),Qe(s);return!0},get(a,l,c){if(l===Je)return n;var p=t.get(l),d=l in a;if(p===void 0&&(!d||ze(a,l)?.writable)&&(p=o(()=>{var f=Ve(d?a[l]:q),h=he(f);return h}),t.set(l,p)),p!==void 0){var u=m(p);return u===q?void 0:u}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var p=t.get(l);p&&(c.value=m(p))}else if(c===void 0){var d=t.get(l),u=d?.v;if(d!==void 0&&u!==q)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return c},has(a,l){if(l===Je)return!0;var c=t.get(l),p=c!==void 0&&c.v!==q||Reflect.has(a,l);if(c!==void 0||S!==null&&(!p||ze(a,l)?.writable)){c===void 0&&(c=o(()=>{var u=p?Ve(a[l]):q,f=he(u);return f}),t.set(l,c));var d=m(c);if(d===q)return!1}return p},set(a,l,c,p){var d=t.get(l),u=l in a;if(r&&l==="length")for(var f=c;f<d.v;f+=1){var h=t.get(f+"");h!==void 0?E(h,q):f in a&&(h=o(()=>he(q)),t.set(f+"",h))}if(d===void 0)(!u||ze(a,l)?.writable)&&(d=o(()=>he(void 0)),E(d,Ve(c)),t.set(l,d));else{u=d.v!==q;var v=o(()=>Ve(c));E(d,v)}var b=Reflect.getOwnPropertyDescriptor(a,l);if(b?.set&&b.set.call(p,c),!u){if(r&&typeof l=="string"){var g=t.get("length"),y=Number(l);Number.isInteger(y)&&y>=g.v&&E(g,y+1)}Qe(s)}return!0},ownKeys(a){m(s);var l=Reflect.ownKeys(a).filter(d=>{var u=t.get(d);return u===void 0||u.v!==q});for(var[c,p]of t)p.v!==q&&!(c in a)&&l.push(c);return l},setPrototypeOf(){Or()}})}var Xt,jn,Nn,Un;function Yr(){if(Xt===void 0){Xt=window,jn=/Firefox/.test(navigator.userAgent);var n=Element.prototype,e=Node.prototype,t=Text.prototype;Nn=ze(e,"firstChild").get,Un=ze(e,"nextSibling").get,Jt(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),Jt(t)&&(t.__t=void 0)}}function Oe(n=""){return document.createTextNode(n)}function pt(n){return Nn.call(n)}function st(n){return Un.call(n)}function O(n,e){return pt(n)}function _e(n,e=!1){{var t=pt(n);return t instanceof Comment&&t.data===""?st(t):t}}function k(n,e=1,t=!1){let r=n;for(;e--;)r=st(r);return r}function Qr(n){n.textContent=""}function Dn(){return!1}let Zt=!1;function Xr(){Zt||(Zt=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{if(!n.defaultPrevented)for(const e of n.target.elements)e.__on_r?.()})},{capture:!0}))}function yt(n){var e=w,t=S;B(null),re(null);try{return n()}finally{B(e),re(t)}}function Zr(n,e,t,r=t){n.addEventListener(e,()=>yt(t));const s=n.__on_r;s?n.__on_r=()=>{s(),r(!0)}:n.__on_r=()=>r(!0),Xr()}function Fn(n){S===null&&w===null&&Sr(),w!==null&&(w.f&J)!==0&&S===null&&wr(),We&&yr()}function es(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function ue(n,e,t,r=!0){var s=S;s!==null&&(s.f&H)!==0&&(n|=H);var i={ctx:P,deps:null,nodes_start:null,nodes_end:null,f:n|W,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{tt(i),i.f|=Ft}catch(l){throw F(i),l}else e!==null&&Ee(i);if(r){var o=i;if(t&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&Me)===0&&(o=o.first,(n&ae)!==0&&(n&Ne)!==0&&o!==null&&(o.f|=Ne)),o!==null&&(o.parent=s,s!==null&&es(o,s),w!==null&&(w.f&U)!==0&&(n&ke)===0)){var a=w;(a.effects??=[]).push(o)}}return i}function ts(){return w!==null&&!X}function Wt(n){const e=ue(gt,null,!1);return N(e,j),e.teardown=n,e}function Pt(n){Fn();var e=S.f,t=!w&&(e&le)!==0&&(e&Ft)===0;if(t){var r=P;(r.e??=[]).push(n)}else return Mn(n)}function Mn(n){return ue(Dt|wn,n,!1)}function ns(n){return Fn(),ue(gt|wn,n,!0)}function rs(n){te.ensure();const e=ue(ke|Me,n,!0);return(t={})=>new Promise(r=>{t.outro?xe(e,()=>{F(e),r(void 0)}):(F(e),r(void 0))})}function ss(n){return ue(Mt|Me,n,!0)}function Kn(n,e=0){return ue(gt|e,n,!0)}function Te(n,e=[],t=[],r=[],s=!1){Hr(r,e,t,i=>{ue(s?Dt:gt,()=>n(...i.map(m)),!0)})}function $t(n,e=0){var t=ue(ae|e,n,!0);return t}function Y(n,e=!0){return ue(le|Me,n,!0,e)}function Bn(n){var e=n.teardown;if(e!==null){const t=We,r=w;tn(!0),B(null);try{e.call(null)}finally{tn(t),B(r)}}}function Wn(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){const s=t.ac;s!==null&&yt(()=>{s.abort(Pe)});var r=t.next;(t.f&ke)!==0?t.parent=null:F(t,e),t=r}}function is(n){for(var e=n.first;e!==null;){var t=e.next;(e.f&le)===0&&F(e),e=t}}function F(n,e=!0){var t=!1;(e||(n.f&yn)!==0)&&n.nodes_start!==null&&n.nodes_end!==null&&(os(n.nodes_start,n.nodes_end),t=!0),Wn(n,e&&!t),vt(n,0),N(n,ge);var r=n.transitions;if(r!==null)for(const i of r)i.stop();Bn(n);var s=n.parent;s!==null&&s.first!==null&&$n(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=n.ac=null}function os(n,e){for(;n!==null;){var t=n===e?null:st(n);n.remove(),n=t}}function $n(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function xe(n,e,t=!0){var r=[];Ht(n,r,!0),Hn(r,()=>{t&&F(n),e&&e()})}function Hn(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var s of n)s.out(r)}else e()}function Ht(n,e,t){if((n.f&H)===0){if(n.f^=H,n.transitions!==null)for(const o of n.transitions)(o.is_global||t)&&e.push(o);for(var r=n.first;r!==null;){var s=r.next,i=(r.f&Ne)!==0||(r.f&le)!==0&&(n.f&ae)!==0;Ht(r,e,i?t:!1),r=s}}}function Vt(n){Vn(n,!0)}function Vn(n,e){if((n.f&H)!==0){n.f^=H,(n.f&j)===0&&(N(n,W),Ee(n));for(var t=n.first;t!==null;){var r=t.next,s=(t.f&Ne)!==0||(t.f&le)!==0;Vn(t,s?e:!1),t=r}if(n.transitions!==null)for(const i of n.transitions)(i.is_global||e)&&i.in()}}function Gn(n,e){for(var t=n.nodes_start,r=n.nodes_end;t!==null;){var s=t===r?null:st(t);e.append(t),t=s}}let qe=!1;function en(n){qe=n}let We=!1;function tn(n){We=n}let w=null,X=!1;function B(n){w=n}let S=null;function re(n){S=n}let ie=null;function as(n){w!==null&&(ie===null?ie=[n]:ie.push(n))}let D=null,$=0,z=null;function ls(n){z=n}let zn=1,et=0,Se=et;function nn(n){Se=n}let ve=!1;function Jn(){return++zn}function it(n){var e=n.f;if((e&W)!==0)return!0;if((e&ce)!==0){var t=n.deps,r=(e&J)!==0;if(e&U&&(n.f&=~ht),t!==null){var s,i,o=(e&ft)!==0,a=r&&S!==null&&!ve,l=t.length;if((o||a)&&(S===null||(S.f&ge)===0)){var c=n,p=c.parent;for(s=0;s<l;s++)i=t[s],(o||!i?.reactions?.includes(c))&&(i.reactions??=[]).push(c);o&&(c.f^=ft),a&&p!==null&&(p.f&J)===0&&(c.f^=J)}for(s=0;s<l;s++)if(i=t[s],it(i)&&Ln(i),i.wv>n.wv)return!0}(!r||S!==null&&!ve)&&N(n,j)}return!1}function Yn(n,e,t=!0){var r=n.reactions;if(r!==null&&!ie?.includes(n))for(var s=0;s<r.length;s++){var i=r[s];(i.f&U)!==0?Yn(i,e,!1):e===i&&(t?N(i,W):(i.f&j)!==0&&N(i,ce),Ee(i))}}function Qn(n){var e=D,t=$,r=z,s=w,i=ve,o=ie,a=P,l=X,c=Se,p=n.f;D=null,$=0,z=null,ve=(p&J)!==0&&(X||!qe||w===null),w=(p&(le|ke))===0?n:null,ie=null,Ue(n.ctx),X=!1,Se=++et,n.ac!==null&&(yt(()=>{n.ac.abort(Pe)}),n.ac=null);try{n.f|=kt;var d=n.fn,u=d(),f=n.deps;if(D!==null){var h;if(vt(n,$),f!==null&&$>0)for(f.length=$+D.length,h=0;h<D.length;h++)f[$+h]=D[h];else n.deps=f=D;if(!ve||(p&U)!==0&&n.reactions!==null)for(h=$;h<f.length;h++)(f[h].reactions??=[]).push(n)}else f!==null&&$<f.length&&(vt(n,$),f.length=$);if(rt()&&z!==null&&!X&&f!==null&&(n.f&(U|ce|W))===0)for(h=0;h<z.length;h++)Yn(z[h],n);return s!==null&&s!==n&&(et++,z!==null&&(r===null?r=z:r.push(...z))),(n.f&be)!==0&&(n.f^=be),u}catch(v){return Tn(v)}finally{n.f^=kt,D=e,$=t,z=r,w=s,ve=i,ie=o,Ue(a),X=l,Se=c}}function cs(n,e){let t=e.reactions;if(t!==null){var r=dr.call(t,n);if(r!==-1){var s=t.length-1;s===0?t=e.reactions=null:(t[r]=t[s],t.pop())}}t===null&&(e.f&U)!==0&&(D===null||!D.includes(e))&&(N(e,ce),(e.f&(J|ft))===0&&(e.f^=ft),In(e),vt(e,0))}function vt(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)cs(n,t[r])}function tt(n){var e=n.f;if((e&ge)===0){N(n,j);var t=S,r=qe;S=n,qe=!0;try{(e&ae)!==0?is(n):Wn(n),Bn(n);var s=Qn(n);n.teardown=typeof s=="function"?s:null,n.wv=zn;var i;vn&&Nr&&(n.f&W)!==0&&n.deps}finally{qe=r,S=t}}}async function us(){await Promise.resolve(),Fr()}function m(n){var e=n.f,t=(e&U)!==0;if(w!==null&&!X){var r=S!==null&&(S.f&ge)!==0;if(!r&&!ie?.includes(n)){var s=w.deps;if((w.f&kt)!==0)n.rv<et&&(n.rv=et,D===null&&s!==null&&s[$]===n?$++:D===null?D=[n]:(!ve||!D.includes(n))&&D.push(n));else{(w.deps??=[]).push(n);var i=n.reactions;i===null?n.reactions=[w]:i.includes(w)||i.push(w)}}}else if(t&&n.deps===null&&n.effects===null){var o=n,a=o.parent;a!==null&&(a.f&J)===0&&(o.f^=J)}if(We){if(me.has(n))return me.get(n);if(t){o=n;var l=o.v;return((o.f&j)===0&&o.reactions!==null||Xn(o))&&(l=Bt(o)),me.set(o,l),l}}else if(t){if(o=n,Q?.has(o))return Q.get(o);it(o)&&Ln(o)}if(Q?.has(n))return Q.get(n);if((n.f&be)!==0)throw n.v;return n.v}function Xn(n){if(n.v===q)return!0;if(n.deps===null)return!1;for(const e of n.deps)if(me.has(e)||(e.f&U)!==0&&Xn(e))return!0;return!1}function ot(n){var e=X;try{return X=!0,n()}finally{X=e}}const fs=-7169;function N(n,e){n.f=n.f&fs|e}function hs(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(Je in n)It(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&Je in t&&It(t)}}}function It(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{It(n[r],e)}catch{}const t=Ut(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=mn(t);for(let s in r){const i=r[s].get;if(i)try{i.call(n)}catch{}}}}}const ds=["touchstart","touchmove"];function ps(n){return ds.includes(n)}const vs=new Set,rn=new Set;function gs(n,e,t,r={}){function s(i){if(r.capture||Ge.call(e,i),!i.cancelBubble)return yt(()=>t?.call(this,i))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?mt(()=>{e.addEventListener(n,s,r)}):e.addEventListener(n,s,r),s}function pe(n,e,t,r,s){var i={capture:r,passive:s},o=gs(n,e,t,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Wt(()=>{e.removeEventListener(n,o,i)})}let sn=null;function Ge(n){var e=this,t=e.ownerDocument,r=n.type,s=n.composedPath?.()||[],i=s[0]||n.target;sn=n;var o=0,a=sn===n&&n.__root;if(a){var l=s.indexOf(a);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var c=s.indexOf(e);if(c===-1)return;l<=c&&(o=l)}if(i=s[o]||n.target,i!==e){bn(n,"currentTarget",{configurable:!0,get(){return i||t}});var p=w,d=S;B(null),re(null);try{for(var u,f=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var v=i["__"+r];v!=null&&(!i.disabled||n.target===i)&&v.call(i,n)}catch(b){u?f.push(b):u=b}if(n.cancelBubble||h===e||h===null)break;i=h}if(u){for(let b of f)queueMicrotask(()=>{throw b});throw u}}finally{n.__root=e,delete n.currentTarget,B(p),re(d)}}}function bs(n){var e=document.createElement("template");return e.innerHTML=n.replaceAll("<!>","<!---->"),e.content}function Lt(n,e){var t=S;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function G(n,e){var t=(e&Ir)!==0,r=(e&Lr)!==0,s,i=!n.startsWith("<!>");return()=>{s===void 0&&(s=bs(i?n:"<!>"+n),t||(s=pt(s)));var o=r||jn?document.importNode(s,!0):s.cloneNode(!0);if(t){var a=pt(o),l=o.lastChild;Lt(a,l)}else Lt(o,o);return o}}function Xe(){var n=document.createDocumentFragment(),e=document.createComment(""),t=Oe();return n.append(e,t),Lt(e,t),n}function L(n,e){n!==null&&n.before(e)}function Fe(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??=n.nodeValue)&&(n.__t=t,n.nodeValue=t+"")}function ms(n,e){return _s(n,e)}const Re=new Map;function _s(n,{target:e,anchor:t,props:r={},events:s,context:i,intro:o=!0}){Yr();var a=new Set,l=d=>{for(var u=0;u<d.length;u++){var f=d[u];if(!a.has(f)){a.add(f);var h=ps(f);e.addEventListener(f,Ge,{passive:h});var v=Re.get(f);v===void 0?(document.addEventListener(f,Ge,{passive:h}),Re.set(f,1)):Re.set(f,v+1)}}};l(Nt(vs)),rn.add(l);var c=void 0,p=rs(()=>{var d=t??e.appendChild(Oe());return Wr(d,{pending:()=>{}},u=>{if(i){Ke({});var f=P;f.c=i}s&&(r.$$events=s),c=n(u,r)||{},i&&Be()}),()=>{for(var u of a){e.removeEventListener(u,Ge);var f=Re.get(u);--f===0?(document.removeEventListener(u,Ge),Re.delete(u)):Re.set(u,f)}rn.delete(l),d!==t&&d.parentNode?.removeChild(d)}});return ys.set(c,p),c}let ys=new WeakMap;class ws{anchor;#e=new Map;#t=new Map;#n=new Map;#r=!0;constructor(e,t=!0){this.anchor=e,this.#r=t}#l=()=>{var e=C;if(this.#e.has(e)){var t=this.#e.get(e),r=this.#t.get(t);if(r)Vt(r);else{var s=this.#n.get(t);s&&(this.#t.set(t,s.effect),this.#n.delete(t),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[i,o]of this.#e){if(this.#e.delete(i),i===e)break;const a=this.#n.get(o);a&&(F(a.effect),this.#n.delete(o))}for(const[i,o]of this.#t){if(i===t)continue;const a=()=>{if(Array.from(this.#e.values()).includes(i)){var c=document.createDocumentFragment();Gn(o,c),c.append(Oe()),this.#n.set(i,{effect:o,fragment:c})}else F(o);this.#t.delete(i)};this.#r||!r?xe(o,a,!1):a()}}};#o=e=>{this.#e.delete(e);const t=Array.from(this.#e.values());for(const[r,s]of this.#n)t.includes(r)||(F(s.effect),this.#n.delete(r))};ensure(e,t){var r=C,s=Dn();if(t&&!this.#t.has(e)&&!this.#n.has(e))if(s){var i=document.createDocumentFragment(),o=Oe();i.append(o),this.#n.set(e,{effect:Y(()=>t(o)),fragment:i})}else this.#t.set(e,Y(()=>t(this.anchor)));if(this.#e.set(r,e),s){for(const[a,l]of this.#t)a===e?r.skipped_effects.delete(l):r.skipped_effects.add(l);for(const[a,l]of this.#n)a===e?r.skipped_effects.delete(l.effect):r.skipped_effects.add(l.effect);r.oncommit(this.#l),r.ondiscard(this.#o)}else this.#l()}}function ne(n,e,t=!1){var r=new ws(n),s=t?Ne:0;function i(o,a){r.ensure(o,a)}$t(()=>{var o=!1;e((a,l=!0)=>{o=!0,i(l,a)}),o||i(!1,null)},s)}function Ss(n,e){return e}function Es(n,e,t){for(var r=n.items,s=[],i=e.length,o=0;o<i;o++)Ht(e[o].e,s,!0);var a=i>0&&s.length===0&&t!==null;if(a){var l=t.parentNode;Qr(l),l.append(t),r.clear(),Z(n,e[0].prev,e[i-1].next)}Hn(s,()=>{for(var c=0;c<i;c++){var p=e[c];a||(r.delete(p.k),Z(n,p.prev,p.next)),F(p.e,!a)}})}function Cs(n,e,t,r,s,i=null){var o=n,a={flags:e,items:new Map,first:null};{var l=n;o=l.appendChild(Oe())}var c=null,p=!1,d=new Map,u=Pn(()=>{var b=t();return gn(b)?b:b==null?[]:Nt(b)}),f,h;function v(){Os(h,f,a,d,o,s,e,r,t),i!==null&&(f.length===0?c?Vt(c):c=Y(()=>i(o)):c!==null&&xe(c,()=>{c=null}))}$t(()=>{h??=S,f=m(u);var b=f.length;if(!(p&&b===0)){p=b===0;var g,y,_,T;if(Dn()){var R=new Set,M=C;for(y=0;y<b;y+=1){_=f[y],T=r(_,y);var A=a.items.get(T)??d.get(T);A?Zn(A,_,y):(g=er(null,a,null,null,_,T,y,s,e,t,!0),d.set(T,g)),R.add(T)}for(const[K,I]of a.items)R.has(K)||M.skipped_effects.add(I.e);M.oncommit(v)}else v();m(u)}})}function Os(n,e,t,r,s,i,o,a,l){var c=e.length,p=t.items,d=t.first,u=d,f,h=null,v=[],b=[],g,y,_,T;for(T=0;T<c;T+=1){if(g=e[T],y=a(g,T),_=p.get(y),_===void 0){var R=r.get(y);if(R!==void 0){r.delete(y),p.set(y,R);var M=h?h.next:u;Z(t,h,R),Z(t,R,M),St(R,M,s),h=R}else{var A=u?u.e.nodes_start:s;h=er(A,t,h,h===null?t.first:h.next,g,y,T,i,o,l)}p.set(y,h),v=[],b=[],u=h.next;continue}if(Zn(_,g,T),(_.e.f&H)!==0&&Vt(_.e),_!==u){if(f!==void 0&&f.has(_)){if(v.length<b.length){var K=b[0],I;h=K.prev;var ye=v[0],$e=v[v.length-1];for(I=0;I<v.length;I+=1)St(v[I],K,s);for(I=0;I<b.length;I+=1)f.delete(b[I]);Z(t,ye.prev,$e.next),Z(t,h,ye),Z(t,$e,K),u=K,h=$e,T-=1,v=[],b=[]}else f.delete(_),St(_,u,s),Z(t,_.prev,_.next),Z(t,_,h===null?t.first:h.next),Z(t,h,_),h=_;continue}for(v=[],b=[];u!==null&&u.k!==y;)(u.e.f&H)===0&&(f??=new Set).add(u),b.push(u),u=u.next;if(u===null)continue;_=u}v.push(_),h=_,u=_.next}if(u!==null||f!==void 0){for(var He=f===void 0?[]:Nt(f);u!==null;)(u.e.f&H)===0&&He.push(u),u=u.next;var wt=He.length;if(wt>0){var fr=c===0?s:null;Es(t,He,fr)}}n.first=t.first&&t.first.e,n.last=h&&h.e;for(var hr of r.values())F(hr.e);r.clear()}function Zn(n,e,t,r){Ze(n.v,e),n.i=t}function er(n,e,t,r,s,i,o,a,l,c,p){var d=(l&Rr)!==0,u=(l&Pr)===0,f=d?u?x(s,!1,!1):Ce(s):s,h=(l&Ar)===0?o:Ce(o),v={i:h,v:f,k:i,a:null,e:null,prev:t,next:r};try{if(n===null){var b=document.createDocumentFragment();b.append(n=Oe())}return v.e=Y(()=>a(n,f,h,c),jr),v.e.prev=t&&t.e,v.e.next=r&&r.e,t===null?p||(e.first=v):(t.next=v,t.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function St(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,s=e?e.e.nodes_start:t,i=n.e.nodes_start;i!==null&&i!==r;){var o=st(i);s.before(i),i=o}}function Z(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const on=[...` 	
\r\fÂ \v\uFEFF`];function Ts(n,e,t){var r=""+n;if(t){for(var s in t)if(t[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,o=0;(o=r.indexOf(s,o))>=0;){var a=o+i;(o===0||on.includes(r[o-1]))&&(a===r.length||on.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function ks(n,e,t,r,s,i){var o=n.__className;if(o!==t||o===void 0){var a=Ts(t,r,i);a==null?n.removeAttribute("class"):n.className=a,n.__className=t}else if(i&&s!==i)for(var l in i){var c=!!i[l];(s==null||c!==!!s[l])&&n.classList.toggle(l,c)}return i}const Rs=Symbol("is custom element"),As=Symbol("is html");function an(n,e,t,r){var s=Ps(n);s[e]!==(s[e]=t)&&(e==="loading"&&(n[br]=t),t==null?n.removeAttribute(e):typeof t!="string"&&Is(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function Ps(n){return n.__attributes??={[Rs]:n.nodeName.includes("-"),[As]:n.namespaceURI===xr}}var ln=new Map;function Is(n){var e=n.getAttribute("is")||n.nodeName,t=ln.get(e);if(t)return t;ln.set(e,t=[]);for(var r,s=n,i=Element.prototype;i!==s;){r=mn(s);for(var o in r)r[o].set&&t.push(o);s=Ut(s)}return t}function Ie(n,e,t=e){var r=new WeakSet;Zr(n,"input",async s=>{var i=s?n.defaultValue:n.value;if(i=Et(n)?Ct(i):i,t(i),C!==null&&r.add(C),await us(),i!==(i=e())){var o=n.selectionStart,a=n.selectionEnd,l=n.value.length;if(n.value=i??"",a!==null){var c=n.value.length;o===a&&a===l&&c>l?(n.selectionStart=c,n.selectionEnd=c):(n.selectionStart=o,n.selectionEnd=Math.min(a,c))}}}),ot(e)==null&&n.value&&(t(Et(n)?Ct(n.value):n.value),C!==null&&r.add(C)),Kn(()=>{var s=e();if(n===document.activeElement){var i=ut??C;if(r.has(i))return}Et(n)&&s===Ct(n.value)||n.type==="date"&&!s&&!n.value||s!==n.value&&(n.value=s??"")})}function Et(n){var e=n.type;return e==="number"||e==="range"}function Ct(n){return n===""?null:+n}function tr(n){return function(...e){var t=e[0];return t.preventDefault(),n?.apply(this,e)}}function at(n=!1){const e=P,t=e.l.u;if(!t)return;let r=()=>hs(e.s);if(n){let s=0,i={};const o=Kt(()=>{let a=!1;const l=e.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],a=!0);return a&&s++,s});r=()=>m(o)}t.b.length&&ns(()=>{cn(e,r),Tt(t.b)}),Pt(()=>{const s=ot(()=>t.m.map(gr));return()=>{for(const i of s)typeof i=="function"&&i()}}),t.a.length&&Pt(()=>{cn(e,r),Tt(t.a)})}function cn(n,e){if(n.l.s)for(const t of n.l.s)m(t);e()}function nr(n,e,t){if(n==null)return e(void 0),Le;const r=ot(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}const Ae=[];function Ls(n,e=Le){let t=null;const r=new Set;function s(a){if(En(n,a)&&(n=a,t)){const l=!Ae.length;for(const c of r)c[1](),Ae.push(c,n);if(l){for(let c=0;c<Ae.length;c+=2)Ae[c][0](Ae[c+1]);Ae.length=0}}}function i(a){s(a(n))}function o(a,l=Le){const c=[a,l];return r.add(c),r.size===1&&(t=e(s,i)||Le),a(n),()=>{r.delete(c),r.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function xs(n){let e;return nr(n,t=>e=t)(),e}let xt=Symbol();function qs(n,e,t){const r=t[e]??={store:null,source:x(void 0),unsubscribe:Le};if(r.store!==n&&!(xt in t))if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=Le;else{var s=!0;r.unsubscribe=nr(n,i=>{s?r.source.v=i:E(r.source,i)}),s=!1}return n&&xt in t?xs(n):m(r.source)}function js(){const n={};function e(){Wt(()=>{for(var t in n)n[t].unsubscribe();bn(n,xt,{enumerable:!1,value:!0})})}return[n,e]}function rr(n){P===null&&mr(),nt&&P.l!==null?Ns(P).m.push(n):Pt(()=>{const e=ot(n);if(typeof e=="function")return e})}function Ns(n){var e=n.l;return e.u??={a:[],b:[],m:[]}}const Us="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Us);Ur();class V extends Error{constructor(e){super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,V.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof V||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":this.originalError?.cause?.message?.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong."),this.cause=this.originalError}get data(){return this.response}toJSON(){return{...this}}}const ct=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ds(n,e){const t={};if(typeof n!="string")return t;const r=Object.assign({},{}).decode||Fs;let s=0;for(;s<n.length;){const i=n.indexOf("=",s);if(i===-1)break;let o=n.indexOf(";",s);if(o===-1)o=n.length;else if(o<i){s=n.lastIndexOf(";",i-1)+1;continue}const a=n.slice(s,i).trim();if(t[a]===void 0){let l=n.slice(i+1,o).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1));try{t[a]=r(l)}catch{t[a]=l}}s=o+1}return t}function un(n,e,t){const r=Object.assign({},t||{}),s=r.encode||Ms;if(!ct.test(n))throw new TypeError("argument name is invalid");const i=s(e);if(i&&!ct.test(i))throw new TypeError("argument val is invalid");let o=n+"="+i;if(r.maxAge!=null){const a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(r.domain){if(!ct.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!ct.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!(function(l){return Object.prototype.toString.call(l)==="[object Date]"||l instanceof Date})(r.expires)||isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function Fs(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Ms(n){return encodeURIComponent(n)}const Ks=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let sr;function je(n){if(n)try{const e=decodeURIComponent(sr(n.split(".")[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(e)||{}}catch{}return{}}function ir(n,e=0){let t=je(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}sr=typeof atob!="function"||Ks?n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,r,s=0,i=0,o="";r=e.charAt(i++);~r&&(t=s%4?64*t+r:r,s++%4)?o+=String.fromCharCode(255&t>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o}:atob;const fn="pb_auth";class Gt{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!ir(this.token)}get isSuperuser(){let e=je(this.token);return e.type=="auth"&&(this.record?.collectionName=="_superusers"||!this.record?.collectionName&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),je(this.token).type=="auth"&&!this.isSuperuser}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=fn){const r=Ds(e||"")[t]||"";let s={};try{s=JSON.parse(r),(typeof s===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.record||s.model||null)}exportToCookie(e,t=fn){const r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=je(this.token);r.expires=s?.exp?new Date(1e3*s.exp):new Date("1970-01-01"),e=Object.assign({},r,e);const i={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let o=un(t,JSON.stringify(i),e);const a=typeof Blob<"u"?new Blob([o]).size:o.length;if(i.record&&a>4096){i.record={id:i.record?.id,email:i.record?.email};const l=["collectionId","collectionName","verified"];for(const c in this.record)l.includes(c)&&(i.record[c]=this.record[c]);o=un(t,JSON.stringify(i),e)}return o}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let r=this._onChangeCallbacks.length-1;r>=0;r--)if(this._onChangeCallbacks[r]==e)return delete this._onChangeCallbacks[r],void this._onChangeCallbacks.splice(r,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class Bs extends Gt{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&window?.localStorage){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&window?.localStorage){let r=t;typeof t!="string"&&(r=JSON.stringify(t)),window.localStorage.setItem(e,r)}else this.storageFallback[e]=t}_storageRemove(e){typeof window<"u"&&window?.localStorage&&window.localStorage?.removeItem(e),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&window?.localStorage&&window.addEventListener&&window.addEventListener("storage",(e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.record||t.model||null)}))}}class fe{constructor(e){this.client=e}}class Ws extends fe{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then((()=>!0))}async testEmail(e,t,r,s){return s=Object.assign({method:"POST",body:{email:t,template:r,collection:e}},s),this.client.send("/api/settings/test/email",s).then((()=>!0))}async generateAppleClientSecret(e,t,r,s,i,o){return o=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:r,privateKey:s,duration:i}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}const $s=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function zt(n){if(n){n.query=n.query||{};for(let e in n)$s.includes(e)||(n.query[e]=n[e],delete n[e])}}function or(n){const e=[];for(const t in n){const r=encodeURIComponent(t),s=Array.isArray(n[t])?n[t]:[n[t]];for(let i of s)i=Hs(i),i!==null&&e.push(r+"="+i)}return e.join("&")}function Hs(n){return n==null?null:n instanceof Date?encodeURIComponent(n.toISOString().replace("T"," ")):encodeURIComponent(typeof n=="object"?JSON.stringify(n):n)}class ar extends fe{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,r){if(!e)throw new Error("topic must be set.");let s=e;if(r){zt(r=Object.assign({},r));const o="options="+encodeURIComponent(JSON.stringify({query:r.query,headers:r.headers}));s+=(s.includes("?")?"&":"?")+o}const i=function(o){const a=o;let l;try{l=JSON.parse(a?.data)}catch{}t(l||{})};return this.subscriptions[s]||(this.subscriptions[s]=[]),this.subscriptions[s].push(i),this.isConnected?this.subscriptions[s].length===1?await this.submitSubscriptions():this.eventSource?.addEventListener(s,i):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,i)}async unsubscribe(e){let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let s in r)if(this.hasSubscriptionListeners(s)){for(let i of this.subscriptions[s])this.eventSource?.removeEventListener(s,i);delete this.subscriptions[s],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let s of this.subscriptions[r])this.eventSource?.removeEventListener(r,s);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){let r=!1;const s=this.getSubscriptionsByTopic(e);for(let i in s){if(!Array.isArray(this.subscriptions[i])||!this.subscriptions[i].length)continue;let o=!1;for(let a=this.subscriptions[i].length-1;a>=0;a--)this.subscriptions[i][a]===t&&(o=!0,delete this.subscriptions[i][a],this.subscriptions[i].splice(a,1),this.eventSource?.removeEventListener(i,t));o&&(this.subscriptions[i].length||delete this.subscriptions[i],r||this.hasSubscriptionListeners(i)||(r=!0))}this.hasSubscriptionListeners()?r&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){if(this.subscriptions=this.subscriptions||{},e)return!!this.subscriptions[e]?.length;for(let t in this.subscriptions)if(this.subscriptions[t]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch((e=>{if(!e?.isAbort)throw e}))}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let r in this.subscriptions)(r+"?").startsWith(e)&&(t[r]=this.subscriptions[r]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise(((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",(e=>{const t=e;this.clientId=t?.lastEventId,this.submitSubscriptions().then((async()=>{let r=3;for(;this.hasUnsentSubscriptions()&&r>0;)r--,await this.submitSubscriptions()})).then((()=>{for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const r=this.getSubscriptionsByTopic("PB_CONNECT");for(let s in r)for(let i of r[s])i(e)})).catch((r=>{this.clientId="",this.connectErrorHandler(r)}))}))}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let r of this.pendingConnects)r.reject(new V(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),t)}disconnect(e=!1){if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[]}}}class lr extends fe{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let r=500;return(t=Object.assign({},e,t)).batch&&(r=t.batch,delete t.batch),this._getFullList(r,t)}async getList(e=1,t=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:e,perPage:t},r.query),this.client.send(this.baseCrudPath,r).then((s=>(s.items=s.items?.map((i=>this.decode(i)))||[],s)))}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then((r=>{if(!r?.items?.length)throw new V({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]}))}async getOne(e,t){if(!e)throw new V({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((r=>this.decode(r)))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then((r=>this.decode(r)))}async update(e,t,r){return r=Object.assign({method:"PATCH",body:t},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),r).then((s=>this.decode(s)))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((()=>!0))}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let r=[],s=async i=>this.getList(i,e||500,t).then((o=>{const a=o.items;return r=r.concat(a),a.length==o.perPage?s(i+1):r}));return s(1)}}function de(n,e,t,r){const s=r!==void 0;return s||t!==void 0?s?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,r),e):Object.assign(e,t):e}function Ot(n){n._resetAutoRefresh?.()}class Vs extends lr{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,t,r){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,r)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const r=Object.assign({},e,t);return super.getFullList(r)}async getList(e=1,t=30,r){return super.getList(e,t,r)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,r){return super.update(e,t,r).then((s=>{if(this.client.authStore.record?.id===s?.id&&(this.client.authStore.record?.collectionId===this.collectionIdOrName||this.client.authStore.record?.collectionName===this.collectionIdOrName)){let i=Object.assign({},this.client.authStore.record.expand),o=Object.assign({},this.client.authStore.record,s);i&&(o.expand=Object.assign(i,s.expand)),this.client.authStore.save(this.client.authStore.token,o)}return s}))}async delete(e,t){return super.delete(e,t).then((r=>(!r||this.client.authStore.record?.id!==e||this.client.authStore.record?.collectionId!==this.collectionIdOrName&&this.client.authStore.record?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),r)))}authResponse(e){const t=this.decode(e?.record||{});return this.client.authStore.save(e?.token,t),Object.assign({},e,{token:e?.token||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,t,r){let s;r=Object.assign({method:"POST",body:{identity:e,password:t}},r),this.isSuperusers&&(s=r.autoRefreshThreshold,delete r.autoRefreshThreshold,r.autoRefresh||Ot(this.client));let i=await this.client.send(this.baseCollectionPath+"/auth-with-password",r);return i=this.authResponse(i),s&&this.isSuperusers&&(function(a,l,c,p){Ot(a);const d=a.beforeSend,u=a.authStore.record,f=a.authStore.onChange(((h,v)=>{(!h||v?.id!=u?.id||(v?.collectionId||u?.collectionId)&&v?.collectionId!=u?.collectionId)&&Ot(a)}));a._resetAutoRefresh=function(){f(),a.beforeSend=d,delete a._resetAutoRefresh},a.beforeSend=async(h,v)=>{const b=a.authStore.token;if(v.query?.autoRefresh)return d?d(h,v):{url:h,sendOptions:v};let g=a.authStore.isValid;if(g&&ir(a.authStore.token,l))try{await c()}catch{g=!1}g||await p();const y=v.headers||{};for(let _ in y)if(_.toLowerCase()=="authorization"&&b==y[_]&&a.authStore.token){y[_]=a.authStore.token;break}return v.headers=y,d?d(h,v):{url:h,sendOptions:v}}})(this.client,s,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},r)))),i}async authWithOAuth2Code(e,t,r,s,i,o,a){let l={method:"POST",body:{provider:e,code:t,codeVerifier:r,redirectURL:s,createData:i}};return l=de("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",l,o,a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",l).then((c=>this.authResponse(c)))}authWithOAuth2(...e){if(e.length>1||typeof e?.[0]=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code(e?.[0]||"",e?.[1]||"",e?.[2]||"",e?.[3]||"",e?.[4]||{},e?.[5]||{},e?.[6]||{});const t=e?.[0]||{};let r=null;t.urlCallback||(r=hn(void 0));const s=new ar(this.client);function i(){r?.close(),s.unsubscribe()}const o={},a=t.requestKey;return a&&(o.requestKey=a),this.listAuthMethods(o).then((l=>{const c=l.oauth2.providers.find((u=>u.name===t.provider));if(!c)throw new V(new Error(`Missing or invalid provider "${t.provider}".`));const p=this.client.buildURL("/api/oauth2-redirect"),d=a?this.client.cancelControllers?.[a]:void 0;return d&&(d.signal.onabort=()=>{i()}),new Promise((async(u,f)=>{try{await s.subscribe("@oauth2",(async g=>{const y=s.clientId;try{if(!g.state||y!==g.state)throw new Error("State parameters don't match.");if(g.error||!g.code)throw new Error("OAuth2 redirect error or missing code: "+g.error);const _=Object.assign({},t);delete _.provider,delete _.scopes,delete _.createData,delete _.urlCallback,d?.signal?.onabort&&(d.signal.onabort=null);const T=await this.authWithOAuth2Code(c.name,g.code,c.codeVerifier,p,t.createData,_);u(T)}catch(_){f(new V(_))}i()}));const h={state:s.clientId};t.scopes?.length&&(h.scope=t.scopes.join(" "));const v=this._replaceQueryParams(c.authURL+p,h);await(t.urlCallback||function(g){r?r.location.href=g:r=hn(g)})(v)}catch(h){i(),f(new V(h))}}))})).catch((l=>{throw i(),l}))}async authRefresh(e,t){let r={method:"POST"};return r=de("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",r).then((s=>this.authResponse(s)))}async requestPasswordReset(e,t,r){let s={method:"POST",body:{email:e}};return s=de("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,t,r),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then((()=>!0))}async confirmPasswordReset(e,t,r,s,i){let o={method:"POST",body:{token:e,password:t,passwordConfirm:r}};return o=de("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,s,i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then((()=>!0))}async requestVerification(e,t,r){let s={method:"POST",body:{email:e}};return s=de("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,t,r),this.client.send(this.baseCollectionPath+"/request-verification",s).then((()=>!0))}async confirmVerification(e,t,r){let s={method:"POST",body:{token:e}};return s=de("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,t,r),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then((()=>{const i=je(e),o=this.client.authStore.record;return o&&!o.verified&&o.id===i.id&&o.collectionId===i.collectionId&&(o.verified=!0,this.client.authStore.save(this.client.authStore.token,o)),!0}))}async requestEmailChange(e,t,r){let s={method:"POST",body:{newEmail:e}};return s=de("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,t,r),this.client.send(this.baseCollectionPath+"/request-email-change",s).then((()=>!0))}async confirmEmailChange(e,t,r,s){let i={method:"POST",body:{token:e,password:t}};return i=de("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",i,r,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",i).then((()=>{const o=je(e),a=this.client.authStore.record;return a&&a.id===o.id&&a.collectionId===o.collectionId&&this.client.authStore.clear(),!0}))}async listExternalAuths(e,t){return this.client.collection("_externalAuths").getFullList(Object.assign({},t,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,t,r){const s=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:t}));return this.client.collection("_externalAuths").delete(s.id,r).then((()=>!0))}async requestOTP(e,t){return t=Object.assign({method:"POST",body:{email:e}},t),this.client.send(this.baseCollectionPath+"/request-otp",t)}async authWithOTP(e,t,r){return r=Object.assign({method:"POST",body:{otpId:e,password:t}},r),this.client.send(this.baseCollectionPath+"/auth-with-otp",r).then((s=>this.authResponse(s)))}async impersonate(e,t,r){(r=Object.assign({method:"POST",body:{duration:t}},r)).headers=r.headers||{},r.headers.Authorization||(r.headers.Authorization=this.client.authStore.token);const s=new cr(this.client.baseURL,new Gt,this.client.lang),i=await s.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),r);return s.authStore.save(i?.token,this.decode(i?.record||{})),s}_replaceQueryParams(e,t={}){let r=e,s="";e.indexOf("?")>=0&&(r=e.substring(0,e.indexOf("?")),s=e.substring(e.indexOf("?")+1));const i={},o=s.split("&");for(const a of o){if(a=="")continue;const l=a.split("=");i[decodeURIComponent(l[0].replace(/\+/g," "))]=decodeURIComponent((l[1]||"").replace(/\+/g," "))}for(let a in t)t.hasOwnProperty(a)&&(t[a]==null?delete i[a]:i[a]=t[a]);s="";for(let a in i)i.hasOwnProperty(a)&&(s!=""&&(s+="&"),s+=encodeURIComponent(a.replace(/%20/g,"+"))+"="+encodeURIComponent(i[a].replace(/%20/g,"+")));return s!=""?r+"?"+s:r}}function hn(n){if(typeof window>"u"||!window?.open)throw new V(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,r=window.innerWidth,s=window.innerHeight;e=e>r?r:e,t=t>s?s:t;let i=r/2-e/2,o=s/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+o+",left="+i+",resizable,menubar=no")}class Gs extends lr{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,r){return r=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},r),this.client.send(this.baseCrudPath+"/import",r).then((()=>!0))}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",t).then((()=>!0))}}class zs extends fe{async getList(e=1,t=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:e,perPage:t},r.query),this.client.send("/api/logs",r)}async getOne(e,t){if(!e)throw new V({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class Js extends fe{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class Ys extends fe{getUrl(e,t,r={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,t,r)}getURL(e,t,r={}){if(!t||!e?.id||!e?.collectionId&&!e?.collectionName)return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(e.collectionId||e.collectionName)),s.push(encodeURIComponent(e.id)),s.push(encodeURIComponent(t));let i=this.client.buildURL(s.join("/"));if(Object.keys(r).length){r.download===!1&&delete r.download;const o=new URLSearchParams(r);i+=(i.includes("?")?"&":"?")+o}return i}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then((t=>t?.token||""))}}class Qs extends fe{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then((()=>!0))}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then((()=>!0))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then((()=>!0))}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then((()=>!0))}getDownloadUrl(e,t){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Xs extends fe{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/crons",e)}async run(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/crons/${encodeURIComponent(e)}`,t).then((()=>!0))}}function qt(n){return typeof Blob<"u"&&n instanceof Blob||typeof File<"u"&&n instanceof File||n!==null&&typeof n=="object"&&n.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function jt(n){return n&&(n.constructor?.name==="FormData"||typeof FormData<"u"&&n instanceof FormData)}function dn(n){for(const e in n){const t=Array.isArray(n[e])?n[e]:[n[e]];for(const r of t)if(qt(r))return!0}return!1}const Zs=/^[\-\.\d]+$/;function pn(n){if(typeof n!="string")return n;if(n=="true")return!0;if(n=="false")return!1;if((n[0]==="-"||n[0]>="0"&&n[0]<="9")&&Zs.test(n)){let e=+n;if(""+e===n)return e}return n}class ei extends fe{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new ti(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,r=[];for(let s=0;s<this.requests.length;s++){const i=this.requests[s];if(r.push({method:i.method,url:i.url,headers:i.headers,body:i.json}),i.files)for(let o in i.files){const a=i.files[o]||[];for(let l of a)t.append("requests."+s+"."+o,l)}}return t.append("@jsonPayload",JSON.stringify({requests:r})),e=Object.assign({method:"POST",body:t},e),this.client.send("/api/batch",e)}}class ti{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const r={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(r,t),this.requests.push(r)}create(e,t){t=Object.assign({body:e||{}},t);const r={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(r,t),this.requests.push(r)}update(e,t,r){r=Object.assign({body:t||{}},r);const s={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(s,r),this.requests.push(s)}delete(e,t){t=Object.assign({},t);const r={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(r,t),this.requests.push(r)}prepareRequest(e,t){if(zt(t),e.headers=t.headers,e.json={},e.files={},t.query!==void 0){const s=or(t.query);s&&(e.url+=(e.url.includes("?")?"&":"?")+s)}let r=t.body;jt(r)&&(r=(function(i){let o={};return i.forEach(((a,l)=>{if(l==="@jsonPayload"&&typeof a=="string")try{let c=JSON.parse(a);Object.assign(o,c)}catch(c){console.warn("@jsonPayload error:",c)}else o[l]!==void 0?(Array.isArray(o[l])||(o[l]=[o[l]]),o[l].push(pn(a))):o[l]=pn(a)})),o})(r));for(const s in r){const i=r[s];if(qt(i))e.files[s]=e.files[s]||[],e.files[s].push(i);else if(Array.isArray(i)){const o=[],a=[];for(const l of i)qt(l)?o.push(l):a.push(l);if(o.length>0&&o.length==i.length){e.files[s]=e.files[s]||[];for(let l of o)e.files[s].push(l)}else if(e.json[s]=a,o.length>0){let l=s;s.startsWith("+")||s.endsWith("+")||(l+="+"),e.files[l]=e.files[l]||[];for(let c of o)e.files[l].push(c)}}else e.json[s]=i}}}class cr{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",t,r="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=r,t?this.authStore=t:typeof window<"u"&&window.Deno?this.authStore=new Gt:this.authStore=new Bs,this.collections=new Gs(this),this.files=new Ys(this),this.logs=new zs(this),this.settings=new Ws(this),this.realtime=new ar(this),this.health=new Js(this),this.backups=new Qs(this),this.crons=new Xs(this)}get admins(){return this.collection("_superusers")}createBatch(){return new ei(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new Vs(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let r in t){let s=t[r];switch(typeof s){case"boolean":case"number":s=""+s;break;case"string":s="'"+s.replace(/'/g,"\\'")+"'";break;default:s=s===null?"null":s instanceof Date?"'"+s.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(s).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+r+"}",s)}return e}getFileUrl(e,t,r={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,t,r)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){let t=this.baseURL;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=window.location.origin?.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseURL),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let r=this.buildURL(e);if(this.beforeSend){const s=Object.assign({},await this.beforeSend(r,t));s.url!==void 0||s.options!==void 0?(r=s.url||r,t=s.options||t):Object.keys(s).length&&(t=s,console?.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const s=or(t.query);s&&(r+=(r.includes("?")?"&":"?")+s),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(r,t).then((async s=>{let i={};try{i=await s.json()}catch{}if(this.afterSend&&(i=await this.afterSend(s,i,t)),s.status>=400)throw new V({url:s.url,status:s.status,data:i});return i})).catch((s=>{throw new V(s)}))}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=(function(s){if(typeof FormData>"u"||s===void 0||typeof s!="object"||s===null||jt(s)||!dn(s))return s;const i=new FormData;for(const o in s){const a=s[o];if(a!==void 0)if(typeof a!="object"||dn({data:a})){const l=Array.isArray(a)?a:[a];for(let c of l)i.append(o,c)}else{let l={};l[o]=a,i.append("@jsonPayload",JSON.stringify(l))}}return i})(t.body),zt(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||jt(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const r=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(r);const s=new AbortController;this.cancelControllers[r]=s,t.signal=s.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let r in e)if(r.toLowerCase()==t)return e[r];return null}}const oe=new cr("http://localhost:8090"),ur=Ls(oe.authStore.model);oe.authStore.onChange((n,e)=>{ur.set(e)});var ni=G('<div class="error"> </div>'),ri=G('<main><h1 style="text-align: center; margin-bottom: 2rem;">Login</h1> <form><label>Email <input type="email" name="email" autocomplete="email" required/></label> <label>Password <input type="password" name="password" autocomplete="current-password" required/></label> <!> <button type="submit"> </button> <p style="margin-top: 1rem;">No account? <a href="#/signup">Sign up</a></p></form></main>');function si(n,e){Ke(e,!1);let t=x(""),r=x(""),s=x(""),i=x(!1);async function o(){E(s,""),E(i,!0);try{await oe.collection("users").authWithPassword(m(t),m(r)),window.location.hash="#/library"}catch(g){E(s,g.message)}finally{E(i,!1)}}at();var a=ri(),l=k(O(a),2),c=O(l),p=k(O(c)),d=k(c,2),u=k(O(d)),f=k(d,2);{var h=g=>{var y=ni(),_=O(y);Te(()=>Fe(_,m(s))),L(g,y)};ne(f,g=>{m(s)&&g(h)})}var v=k(f,2),b=O(v);Te(()=>{v.disabled=m(i),Fe(b,m(i)?"Loading...":"Login")}),Ie(p,()=>m(t),g=>E(t,g)),Ie(u,()=>m(r),g=>E(r,g)),pe("submit",l,tr(o)),L(n,a),Be()}var ii=G('<div class="error"> </div>'),oi=G('<main><h1 style="text-align: center; margin-bottom: 2rem;">Sign Up</h1> <form><label>Email <input type="email" name="email" autocomplete="email" required/></label> <label>Username <input type="text" name="username" autocomplete="username" required/></label> <label>Password <input type="password" name="password" autocomplete="new-password" required/></label> <label>Confirm Password <input type="password" name="password-confirm" autocomplete="new-password" required/></label> <!> <button type="submit"> </button> <p style="margin-top: 1rem;">Have an account? <a href="#/login">Login</a></p></form></main>');function ai(n,e){Ke(e,!1);let t=x(""),r=x(""),s=x(""),i=x(""),o=x(""),a=x(!1);async function l(){E(o,""),E(a,!0);try{await oe.collection("users").create({email:m(t),username:m(r),password:m(s),passwordConfirm:m(i)}),await oe.collection("users").authWithPassword(m(t),m(s)),window.location.hash="#/library"}catch(A){E(o,A.message)}finally{E(a,!1)}}at();var c=oi(),p=k(O(c),2),d=O(p),u=k(O(d)),f=k(d,2),h=k(O(f)),v=k(f,2),b=k(O(v)),g=k(v,2),y=k(O(g)),_=k(g,2);{var T=A=>{var K=ii(),I=O(K);Te(()=>Fe(I,m(o))),L(A,K)};ne(_,A=>{m(o)&&A(T)})}var R=k(_,2),M=O(R);Te(()=>{R.disabled=m(a),Fe(M,m(a)?"Creating account...":"Sign Up")}),Ie(u,()=>m(t),A=>E(t,A)),Ie(h,()=>m(r),A=>E(r,A)),Ie(b,()=>m(s),A=>E(s,A)),Ie(y,()=>m(i),A=>E(i,A)),pe("submit",p,tr(l)),L(n,c),Be()}var li=G('<button class="hamburger" aria-label="Menu"><span></span> <span></span> <span></span></button>'),ci=G('<div class="menu-overlay" role="button" tabindex="0"></div> <nav><div class="menu-header"><span class="menu-user"> </span> <button class="menu-close">Ã</button></div> <ul class="menu-list"><li><a href="#/library">Library</a></li> <li><button>Logout</button></li></ul></nav>',1),ui=G('<header class="header"><div class="header-content"><a href="#/library" class="logo">Unlost</a> <!></div></header> <!>',1);function fi(n,e){Ke(e,!1);const t=()=>qs(ur,"$currentUser",r),[r,s]=js();let i=x(!1);function o(){E(i,!m(i))}function a(){oe.authStore.clear(),E(i,!1),window.location.hash="#/login"}at();var l=ui(),c=_e(l),p=O(c),d=k(O(p),2);{var u=v=>{var b=li();pe("click",b,o),L(v,b)};ne(d,v=>{t()&&v(u)})}var f=k(c,2);{var h=v=>{var b=ci(),g=_e(b),y=k(g,2);let _;var T=O(y),R=O(T),M=O(R),A=k(R,2),K=k(T,2),I=O(K),ye=O(I),$e=k(I,2),He=O($e);Te(()=>{_=ks(y,1,"menu",null,_,{"menu-open":m(i)}),Fe(M,t().username)}),pe("click",g,o),pe("keydown",g,wt=>wt.key==="Escape"&&o()),pe("click",A,o),pe("click",ye,o),pe("click",He,a),L(v,b)};ne(f,v=>{t()&&m(i)&&v(h)})}L(n,l),Be(),s()}var hi=G('<div class="loading">Loading photos...</div>'),di=G('<div class="error"> </div>'),pi=G('<div class="loading">No photos yet</div>'),vi=G('<div class="photo-card"><img loading="lazy"/></div>'),gi=G('<div class="photo-grid"></div>'),bi=G("<!> <main><!></main>",1);function mi(n,e){Ke(e,!1);let t=x([]),r=x(!0),s=x("");rr(async()=>{try{const d=await oe.collection("media").getList(1,50,{sort:"-taken_at",filter:`owner = "${oe.authStore.model.id}"`});E(t,d.items)}catch(d){E(s,d.message)}finally{E(r,!1)}}),at();var i=bi(),o=_e(i);fi(o,{});var a=k(o,2),l=O(a);{var c=d=>{var u=hi();L(d,u)},p=d=>{var u=Xe(),f=_e(u);{var h=b=>{var g=di(),y=O(g);Te(()=>Fe(y,m(s))),L(b,g)},v=b=>{var g=Xe(),y=_e(g);{var _=R=>{var M=pi();L(R,M)},T=R=>{var M=gi();Cs(M,5,()=>m(t),Ss,(A,K)=>{var I=vi(),ye=O(I);Te(()=>{an(ye,"src",`/library/${m(K).path??""}`),an(ye,"alt",m(K).path)}),L(A,I)}),L(R,M)};ne(y,R=>{m(t).length===0?R(_):R(T,!1)},!0)}L(b,g)};ne(f,b=>{m(s)?b(h):b(v,!1)},!0)}L(d,u)};ne(l,d=>{m(r)?d(c):d(p,!1)})}L(n,i),Be()}function _i(n,e){Ke(e,!1);let t=x("login");function r(){const c=(window.location.hash.slice(1)||"/login").split("/")[1]||"login";E(t,c),c==="library"&&!oe.authStore.isValid&&(window.location.hash="#/login",E(t,"login"))}rr(()=>(r(),window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r))),at();var s=Xe(),i=_e(s);{var o=l=>{si(l,{})},a=l=>{var c=Xe(),p=_e(c);{var d=f=>{ai(f,{})},u=f=>{var h=Xe(),v=_e(h);{var b=g=>{mi(g,{})};ne(v,g=>{m(t)==="library"&&g(b)},!0)}L(f,h)};ne(p,f=>{m(t)==="signup"?f(d):f(u,!1)},!0)}L(l,c)};ne(i,l=>{m(t)==="login"?l(o):l(a,!1)})}L(n,s),Be()}ms(_i,{target:document.getElementById("app")});
